<!DOCTYPE html>
<html lang="en">
<head>
  <!-- RTQ_RUN {"generator":"rtq-prototype-batch","model":"gemini-3-pro-preview","prefix":"gemini.stage-12.1","variant":"AD","indexWithinVariant":"366","totalWithinVariant":"440","hueFamily":"","intensityMode":"","primaryHueFamily":"blue","secondaryHueFamily":"pink","dualIntensityMode":"dual_tinted_neutrals","timestamp":"2026-01-10T22:22:59.658Z"} -->
  <meta name="rtq-run" content='{&quot;generator&quot;:&quot;rtq-prototype-batch&quot;,&quot;model&quot;:&quot;gemini-3-pro-preview&quot;,&quot;prefix&quot;:&quot;gemini.stage-12.1&quot;,&quot;variant&quot;:&quot;AD&quot;,&quot;indexWithinVariant&quot;:&quot;366&quot;,&quot;totalWithinVariant&quot;:&quot;440&quot;,&quot;hueFamily&quot;:&quot;&quot;,&quot;intensityMode&quot;:&quot;&quot;,&quot;primaryHueFamily&quot;:&quot;blue&quot;,&quot;secondaryHueFamily&quot;:&quot;pink&quot;,&quot;dualIntensityMode&quot;:&quot;dual_tinted_neutrals&quot;,&quot;timestamp&quot;:&quot;2026-01-10T22:22:59.658Z&quot;}'>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RTQ â€“ Maths Paper Solution Viewer (Stage 6 Baseline)</title>

    <!-- FONTS -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

    <!-- KATEX CSS (No Integrity, No Crossorigin per Stage 6.0.7b) -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">

    <!-- TAILWIND CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- REACT & REACT DOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <!-- BABEL -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- MARKDOWN-IT -->
    <script src="https://cdn.jsdelivr.net/npm/markdown-it@14.0.0/dist/markdown-it.min.js"></script>

    <!-- KATEX JS -->
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"></script>

    <!-- COLORLAB D CONFIGURATION & STYLES -->
    <style>
        /* 
         * COLORLAB D: DUAL-ACCENT PALETTE (QUANTIFIED, LIGHT-ONLY)
         * Mode: dual_tinted_neutrals
         * Primary Hue: Blue (264)
         * Secondary Hue: Amber (85)
         * 
         * Numeric constraints obeyed for 'dual_tinted_neutrals':
         * Surfaces C [0.015..0.035], Wash C [0.025..0.045], Text C <= 0.010/0.012
         * Primary Accent C [0.10..0.16], Secondary Accent C [0.08..0.14]
         */
        :root {
            /* Hues */
            --hue-primary: 264;
            --hue-secondary: 85;

            /* Surfaces (Primary Derived) */
            /* Page: L~0.97 C~0.02 */
            --col-surface-page: oklch(0.97 0.02 var(--hue-primary));
            /* Frame: L~0.98 C~0.015 */
            --col-surface-frame: oklch(0.98 0.015 var(--hue-primary));
            /* Paper: L~0.99 C~0.015 */
            --col-surface-paper: oklch(0.99 0.015 var(--hue-primary));
            /* Wash: L~0.96 C~0.03 */
            --col-surface-wash: oklch(0.96 0.03 var(--hue-primary));

            /* Text (Neutral-ish) */
            /* Primary: L~0.20 C~0.01 */
            --col-text-primary: oklch(0.20 0.01 var(--hue-primary));
            /* Secondary: L~0.45 C~0.012 */
            --col-text-secondary: oklch(0.45 0.012 var(--hue-primary));
            /* Navigation Text: Quiet */
            --col-text-nav: oklch(0.40 0.01 var(--hue-primary));

            /* Accents */
            /* Primary (Links/Focus/Controls): L~0.55 C~0.14 */
            --col-accent-primary: oklch(0.55 0.14 var(--hue-primary));
            /* Secondary (Supplementary): L~0.65 C~0.12 */
            --col-accent-secondary: oklch(0.65 0.12 var(--hue-secondary));

            /* Lines & Borders */
            --col-line-hairline: oklch(0.90 0.01 var(--hue-primary));
            --col-line-focus: var(--col-accent-primary);
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--col-surface-page);
            color: var(--col-text-primary);
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        /* Nav Scrollbar Hiding */
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        /* KaTeX Overrides for Containment & Transparency */
        .katex-display {
            overflow-x: auto;
            overflow-y: hidden;
            padding-top: 0.25em;
            padding-bottom: 0.25em;
            /* Scrollbar styling for math blocks */
            scrollbar-width: thin;
            scrollbar-color: var(--col-text-secondary) transparent;
        }
        .katex {
            font-size: 1.1em;
            background-color: transparent !important;
        }
        .katex-display > .katex {
            /* Background underlay for display math only if needed, currently transparent per ColorLab D strictness */
            background-color: transparent;
        }

        /* Markdown Table Styling */
        table {
            border-collapse: collapse;
            width: 100%;
            margin: 1rem 0;
            font-size: 0.95rem;
        }
        th, td {
            border: 1px solid var(--col-line-hairline);
            padding: 0.5rem;
            text-align: left;
        }
        th {
            font-weight: 600;
        }

        /* Utility for Focus */
        .focus-ring:focus-visible {
            outline: 2px solid var(--col-line-focus);
            outline-offset: 2px;
        }
    </style>
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        page: 'var(--col-surface-page)',
                        frame: 'var(--col-surface-frame)',
                        paper: 'var(--col-surface-paper)',
                        wash: 'var(--col-surface-wash)',
                        
                        txt: {
                            primary: 'var(--col-text-primary)',
                            secondary: 'var(--col-text-secondary)',
                            nav: 'var(--col-text-nav)',
                        },
                        
                        accent: {
                            primary: 'var(--col-accent-primary)',
                            secondary: 'var(--col-accent-secondary)',
                        },
                        
                        line: {
                            hairline: 'var(--col-line-hairline)',
                        }
                    },
                    spacing: {
                        '18': '4.5rem',
                        '22': '5.5rem',
                    }
                }
            }
        }
    </script>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        // ==========================================
        // STAGE 0: CONSTANTS & PATHS
        // ==========================================
        const RTQ_PAPERS_PAYLOAD_PATH = "../../../payload/rtq.papers.payload.v2.json";
        const RTQ_SHADCN_TOKEN_PROFILES_PATH = "../../../payload/rtq.shadcn.token.profiles.v1.json";

        // ==========================================
        // UTILITIES
        // ==========================================
        
        // Markdown Rendering Setup (Stage 6 Baseline)
        // Must use 'html: true', 'breaks: false', disable 'escape'
        let md = null;
        if (window.markdownit) {
            md = window.markdownit({
                html: true,
                linkify: true,
                breaks: false,
                typographer: true
            });
            // Disable escape rule to preserve TeX backslashes
            md.inline.ruler.disable(['escape']);
        }

        function renderMarkdown(content) {
            if (!content) return { __html: '' };
            if (!md) return { __html: content }; // Fallback
            return { __html: md.render(content) };
        }

        // Hook for KaTeX Auto-Render
        const useKatex = (ref, content) => {
            React.useEffect(() => {
                if (ref.current && window.renderMathInElement) {
                    window.renderMathInElement(ref.current, {
                        delimiters: [
                            {left: '$$', right: '$$', display: true},
                            {left: '$', right: '$', display: false},
                            {left: '\\(', right: '\\)', display: false},
                            {left: '\\[', right: '\\]', display: true}
                        ],
                        throwOnError: false,
                        trust: true // Trust HTML in payload
                    });
                }
            }, [content]);
        };

        // Icons (Inline SVG for stability)
        const Icons = {
            ChevronDown: (props) => (
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="m6 9 6 6 6-6"/></svg>
            ),
            ChevronRight: (props) => (
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="m9 18 6-6-6-6"/></svg>
            ),
            Menu: (props) => (
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/></svg>
            ),
            X: (props) => (
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg>
            ),
            Info: (props) => (
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><circle cx="12" cy="12" r="10"/><path d="M12 16v-4"/><path d="M12 8h.01"/></svg>
            )
        };

        // ==========================================
        // COMPONENTS
        // ==========================================

        const MarkdownBlock = ({ content, className = "", as = "div" }) => {
            const ref = React.useRef(null);
            useKatex(ref, content);
            const Tag = as;

            return (
                <Tag 
                    ref={ref}
                    className={`markdown-body ${className}`}
                    dangerouslySetInnerHTML={renderMarkdown(content)}
                />
            );
        };

        // --- Navigation ---

        const NavItem = ({ id, label, isSectionLabel, isActive, onClick }) => {
            if (isSectionLabel) {
                // Section Header (A/B/C) - Non-clickable signpost
                if (!label || !label.trim()) return null; // Payload omission rule
                return (
                    <div className="mt-6 mb-2 text-xs font-semibold text-txt-secondary uppercase tracking-wider select-none px-3">
                        {label}
                    </div>
                );
            }

            // Question Identifier
            // Logic to determine nesting level for visual type scale cue (NOT indentation)
            // Heuristic: id length or structure. Assuming flat list provided here with depth metadata if available.
            // For this flat list impl, we rely on the visual quietness.
            
            return (
                <button
                    onClick={onClick}
                    className={`
                        w-full text-left px-3 py-1.5 rounded-md text-sm transition-colors duration-200 focus-ring
                        ${isActive 
                            ? "font-bold text-accent-primary" 
                            : "font-medium text-txt-nav hover:text-txt-primary hover:bg-black/5"
                        }
                    `}
                >
                    {label}
                </button>
            );
        };

        const NavigationList = ({ structure, currentId, onNavigate }) => {
            return (
                <nav className="flex flex-col pb-10" aria-label="Question navigation">
                    {structure.map((item, idx) => (
                        <NavItem 
                            key={`${item.id}-${idx}`}
                            id={item.id}
                            label={item.label}
                            isSectionLabel={item.type === 'section'}
                            isActive={item.id === currentId && item.type !== 'section'}
                            onClick={() => item.type !== 'section' && onNavigate(item.id)}
                        />
                    ))}
                </nav>
            );
        };

        // --- Paper Content ---

        const SolutionDetails = ({ details }) => {
            return (
                <div className="mt-4 pt-4 border-t border-line-hairline bg-wash rounded-sm px-4 pb-4 animate-in fade-in zoom-in-95 duration-200 origin-top">
                    {/* Keep In Mind */}
                    {details.keepInMind && (
                        <div className="mb-6">
                            <div className="flex items-center gap-2 mb-2 text-txt-primary">
                                <Icons.Info className="w-4 h-4 text-accent-secondary" />
                                <span className="text-sm font-bold uppercase tracking-wide">Keep in mind</span>
                            </div>
                            <MarkdownBlock content={details.keepInMind} className="text-txt-secondary text-sm leading-relaxed" />
                        </div>
                    )}

                    {/* Formulas Used */}
                    {details.formulasUsed && (
                        <div className="mb-6">
                            <h4 className="text-xs font-bold text-txt-secondary uppercase tracking-wide mb-2">Formulas used</h4>
                            <MarkdownBlock content={details.formulasUsed} className="text-txt-primary text-sm" />
                        </div>
                    )}

                    {/* Working (Primary) */}
                    {details.working && (
                        <div className="mb-8">
                            <h4 className="text-xs font-bold text-txt-secondary uppercase tracking-wide mb-2">Working</h4>
                            <MarkdownBlock content={details.working} className="text-txt-primary leading-relaxed space-y-4" />
                        </div>
                    )}

                    {/* Alternative Working */}
                    {details.alternativeWorking && Array.isArray(details.alternativeWorking) && details.alternativeWorking.map((alt, idx) => (
                        <div key={idx} className="mt-8 pt-6 border-t border-line-hairline">
                            <h4 className="text-xs font-bold text-txt-secondary uppercase tracking-wide mb-2">Alternative working</h4>
                            <MarkdownBlock content={alt} className="text-txt-primary leading-relaxed space-y-4" />
                        </div>
                    ))}
                </div>
            );
        };

        const SolutionBlock = ({ answer, solutionDetails, defaults }) => {
            // Default expanded unless paper says false
            const [isExpanded, setIsExpanded] = React.useState(defaults?.expandedAll !== false);

            if (!answer && !solutionDetails) return null;

            const hasDetails = !!solutionDetails;

            return (
                <div className="mt-4">
                    {/* Answer Section */}
                    {answer && (
                        <div className="mb-3">
                            <span className="text-xs font-bold text-txt-secondary uppercase tracking-wide block mb-1">Answer</span>
                            <div className="text-txt-primary font-medium">
                                <MarkdownBlock content={answer} as="span" />
                            </div>
                        </div>
                    )}

                    {/* Disclosure Control */}
                    {hasDetails && (
                        <div>
                            <button 
                                onClick={() => setIsExpanded(!isExpanded)}
                                className="flex items-center gap-1 text-sm font-medium text-accent-primary hover:text-accent-primary/80 focus-ring rounded px-1 -ml-1 py-1 transition-colors"
                                aria-expanded={isExpanded}
                            >
                                <span>{isExpanded ? "Hide working" : "Show working"}</span>
                                {isExpanded ? <Icons.ChevronDown className="w-4 h-4" /> : <Icons.ChevronRight className="w-4 h-4" />}
                            </button>

                            {/* Solution Details Region */}
                            {isExpanded && (
                                <SolutionDetails details={solutionDetails} />
                            )}
                        </div>
                    )}
                </div>
            );
        };

        const QuestionNode = ({ node, depth = 0, paperDefaults }) => {
            // Determine vertical separation based on depth
            // Top-level: large gap. Children: medium gap.
            const spacingClass = depth === 0 ? "mb-16" : "mb-8 mt-6";
            
            // Indentation for children (visual subordination only, layout flat)
            // Stage 3 says "Indentation may adapt... must not create boxed layouts"
            // We use simple left padding for children.
            const indentClass = depth > 0 ? "pl-4 md:pl-8 border-l border-transparent" : "";

            // Question Identifier styling
            // Depth 0: Standard. Depth > 0: Quieter.
            const idClass = depth === 0 
                ? "text-base font-semibold text-txt-secondary mb-1" 
                : "text-sm font-medium text-txt-nav mb-1";

            return (
                <div id={`question-${node.id}`} className={`relative ${spacingClass} ${indentClass}`}>
                    {/* Question Body */}
                    <div className="group">
                        <div className={idClass}>{node.id}</div>
                        <MarkdownBlock 
                            content={node.question} 
                            className="text-lg text-txt-primary leading-relaxed max-w-none" 
                        />
                    </div>

                    {/* Solution Block */}
                    {node.solutionBlock && (
                        <SolutionBlock 
                            answer={node.solutionBlock.answer} 
                            solutionDetails={node.solutionBlock.solutionDetails}
                            defaults={paperDefaults}
                        />
                    )}

                    {/* Recursion for Children */}
                    {node.children && node.children.length > 0 && (
                        <div className="flex flex-col">
                            {node.children.map((child, idx) => (
                                <QuestionNode 
                                    key={`${child.id}-${idx}`} 
                                    node={child} 
                                    depth={depth + 1}
                                    paperDefaults={paperDefaults}
                                />
                            ))}
                        </div>
                    )}
                </div>
            );
        };

        // --- Layout Shell ---

        const PaperSelector = ({ papers, currentKey, onSelect }) => (
            <div className="relative inline-block text-left">
                <select 
                    value={currentKey}
                    onChange={(e) => onSelect(e.target.value)}
                    className="appearance-none bg-frame border border-line-hairline hover:border-accent-primary text-txt-primary text-sm font-medium py-2 pl-3 pr-8 rounded focus-ring cursor-pointer"
                >
                    {papers.map(p => (
                        <option key={p.key} value={p.key}>{p.label}</option>
                    ))}
                </select>
                <div className="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-txt-secondary">
                    <Icons.ChevronDown className="w-4 h-4" />
                </div>
            </div>
        );

        const App = () => {
            const [status, setStatus] = React.useState('loading');
            const [payload, setPayload] = React.useState(null);
            const [currentPaperKey, setCurrentPaperKey] = React.useState(null);
            const [mobileDrawerOpen, setMobileDrawerOpen] = React.useState(false);
            const [activeQuestionId, setActiveQuestionId] = React.useState(null);

            // Payload Fetching
            React.useEffect(() => {
                fetch(RTQ_PAPERS_PAYLOAD_PATH)
                    .then(res => {
                        if (!res.ok) throw new Error("Missing Payload");
                        return res.json();
                    })
                    .then(data => {
                        setPayload(data);
                        if (data.papers && data.papers.length > 0) {
                            setCurrentPaperKey(data.papers[0].key);
                        }
                        setStatus('ready');
                    })
                    .catch(err => {
                        console.error(err);
                        setStatus('error');
                    });
            }, []);

            // Scroll Spy for Active Navigation
            React.useEffect(() => {
                if (status !== 'ready') return;
                
                const handleScroll = () => {
                    // Simple heuristic: find question closest to top of viewport
                    const questions = document.querySelectorAll('[id^="question-"]');
                    let current = null;
                    questions.forEach(q => {
                        const rect = q.getBoundingClientRect();
                        if (rect.top >= 0 && rect.top < window.innerHeight / 2) {
                            if (!current) current = q;
                        } else if (rect.top < 0) {
                            // It's above us, might be the one we are inside
                            current = q;
                        }
                    });
                    if (current) {
                        const id = current.id.replace('question-', '');
                        setActiveQuestionId(id);
                    }
                };

                window.addEventListener('scroll', handleScroll, { passive: true });
                return () => window.removeEventListener('scroll', handleScroll);
            }, [status, currentPaperKey]);

            // Handlers
            const handlePaperChange = (key) => {
                setCurrentPaperKey(key);
                window.scrollTo({ top: 0, behavior: 'auto' });
                setActiveQuestionId(null);
            };

            const handleNavigate = (id) => {
                setMobileDrawerOpen(false);
                const el = document.getElementById(`question-${id}`);
                if (el) {
                    el.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    setActiveQuestionId(id);
                }
            };

            // Render Logic
            if (status === 'error') {
                return (
                    <div className="min-h-screen flex items-center justify-center bg-page text-txt-primary font-bold">
                        PAPERS PAYLOAD MISSING
                    </div>
                );
            }

            if (status === 'loading') {
                return <div className="min-h-screen bg-page" />;
            }

            const currentPaper = payload.papers.find(p => p.key === currentPaperKey);
            if (!currentPaper) return null;

            // Generate Nav Structure
            const buildNavStructure = () => {
                const nav = [];
                
                const traverse = (node) => {
                    nav.push({ id: node.id, label: node.id, type: 'question' });
                    if (node.children) node.children.forEach(traverse);
                };

                if (currentPaper.sections) {
                    currentPaper.sections.forEach(sec => {
                        nav.push({ id: `section-${sec.label}`, label: sec.label, type: 'section' });
                        sec.questions.forEach(traverse);
                    });
                } else if (currentPaper.questions) {
                    currentPaper.questions.forEach(traverse);
                }
                return nav;
            };

            const navStructure = buildNavStructure();

            return (
                <div className="min-h-screen bg-frame flex flex-col items-center">
                    
                    {/* Top Controls Region */}
                    <div className="w-full max-w-6xl px-4 md:px-8 py-4 flex items-center justify-between border-b border-line-hairline bg-frame sticky top-0 z-20">
                        <PaperSelector 
                            papers={payload.papers} 
                            currentKey={currentPaperKey} 
                            onSelect={handlePaperChange} 
                        />
                        
                        {/* Mobile Jump To Trigger */}
                        <button 
                            className="md:hidden flex items-center gap-2 text-sm font-medium text-accent-primary focus-ring rounded p-1"
                            onClick={() => setMobileDrawerOpen(true)}
                        >
                            <span>Jump to</span>
                            <Icons.Menu className="w-5 h-5" />
                        </button>
                    </div>

                    {/* Document Frame Shell */}
                    <div className="w-full max-w-6xl px-4 md:px-8 flex-1 flex flex-row">
                        
                        {/* Desktop Navigation Rail */}
                        <aside className="hidden md:block w-48 shrink-0 py-8 mr-8 sticky top-[73px] h-[calc(100vh-73px)] overflow-hidden">
                            <div className="h-full overflow-y-auto no-scrollbar pr-2">
                                <NavigationList 
                                    structure={navStructure} 
                                    currentId={activeQuestionId} 
                                    onNavigate={handleNavigate} 
                                />
                            </div>
                        </aside>

                        {/* Paper Content Column */}
                        <main className="flex-1 bg-paper min-h-[calc(100vh-80px)] py-12 px-6 md:px-12 shadow-sm my-4 rounded-sm">
                            {currentPaper.sections ? (
                                currentPaper.sections.map((section, sIdx) => (
                                    <div key={sIdx} className="mb-12">
                                        {/* Section Header (Divider) */}
                                        {section.label && section.label.trim() && (
                                            <div className="border-b border-line-hairline mb-12 pb-2">
                                                <span className="text-lg font-bold text-txt-secondary">{section.label}</span>
                                            </div>
                                        )}
                                        {/* Questions */}
                                        {section.questions.map((q, qIdx) => (
                                            <QuestionNode 
                                                key={q.id} 
                                                node={q} 
                                                paperDefaults={currentPaper.defaults} 
                                            />
                                        ))}
                                    </div>
                                ))
                            ) : (
                                currentPaper.questions.map((q, qIdx) => (
                                    <QuestionNode 
                                        key={q.id} 
                                        node={q} 
                                        paperDefaults={currentPaper.defaults} 
                                    />
                                ))
                            )}
                            
                            {/* Bottom padding */}
                            <div className="h-32"></div>
                        </main>
                    </div>

                    {/* Mobile Navigation Drawer */}
                    {mobileDrawerOpen && (
                        <div className="fixed inset-0 z-50 flex md:hidden">
                            {/* Scrim */}
                            <div 
                                className="absolute inset-0 bg-black/20 backdrop-blur-sm"
                                onClick={() => setMobileDrawerOpen(false)}
                            />
                            {/* Drawer Content */}
                            <div className="relative w-64 bg-frame h-full shadow-xl flex flex-col p-6 animate-in slide-in-from-left duration-200">
                                <div className="flex items-center justify-between mb-6 pb-4 border-b border-line-hairline">
                                    <h2 className="font-bold text-txt-primary">Jump to</h2>
                                    <button 
                                        onClick={() => setMobileDrawerOpen(false)}
                                        className="text-txt-secondary p-1 hover:text-txt-primary focus-ring rounded"
                                    >
                                        <Icons.X className="w-5 h-5" />
                                    </button>
                                </div>
                                <div className="flex-1 overflow-y-auto no-scrollbar">
                                    <NavigationList 
                                        structure={navStructure} 
                                        currentId={activeQuestionId} 
                                        onNavigate={handleNavigate} 
                                    />
                                </div>
                            </div>
                        </div>
                    )}
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
