<!DOCTYPE html>
<html lang="en">
<head>
  <!-- RTQ_RUN {"generator":"rtq-prototype-batch","model":"gemini-3-pro-preview","prefix":"gemini.stage-12.1","variant":"ABC","indexWithinVariant":"179","totalWithinVariant":"320","hueFamily":"amber","intensityMode":"high_chroma_surfaces","primaryHueFamily":"","secondaryHueFamily":"","dualIntensityMode":"","timestamp":"2026-01-09T18:21:31.579Z"} -->
  <meta name="rtq-run" content='{&quot;generator&quot;:&quot;rtq-prototype-batch&quot;,&quot;model&quot;:&quot;gemini-3-pro-preview&quot;,&quot;prefix&quot;:&quot;gemini.stage-12.1&quot;,&quot;variant&quot;:&quot;ABC&quot;,&quot;indexWithinVariant&quot;:&quot;179&quot;,&quot;totalWithinVariant&quot;:&quot;320&quot;,&quot;hueFamily&quot;:&quot;amber&quot;,&quot;intensityMode&quot;:&quot;high_chroma_surfaces&quot;,&quot;primaryHueFamily&quot;:&quot;&quot;,&quot;secondaryHueFamily&quot;:&quot;&quot;,&quot;dualIntensityMode&quot;:&quot;&quot;,&quot;timestamp&quot;:&quot;2026-01-09T18:21:31.579Z&quot;}'>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RTQ Maths Paper Viewer</title>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- React & ReactDOM -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin></script>
    
    <!-- Babel -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- Markdown-it -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/markdown-it/13.0.1/markdown-it.min.js"></script>

    <!-- KaTeX -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.css">
    <script src="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/contrib/auto-render.min.js"></script>

    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <style>
        /* 
           COLORLAB C: HIGH CHROMA SURFACES (AMBER) 
           Defined in OKLCH per instruction.
           Hue: ~85 (Amber)
        */
        :root {
            /* Major Surfaces: 2 must be [0.06..0.12], 1 must be [0.03..0.07] */
            --pg-bg: oklch(0.95 0.08 85);    /* Page Background */
            --fr-bg: oklch(0.93 0.08 85);    /* Frame Base Surface */
            --pp-bg: oklch(0.98 0.04 85);    /* Paper Surface (Remaining major surface) */

            /* Wash Surfaces: [0.05..0.10] */
            --sd-wash: oklch(0.96 0.06 85);  /* Solution Details Wash */
            
            /* Text: Primary <= 0.015, Secondary <= 0.020 */
            --txt-pri: oklch(0.20 0.015 85);
            --txt-sec: oklch(0.45 0.020 85);

            /* Accent: [0.12..0.20] - Used for links, focus, active nav marker */
            --accent: oklch(0.60 0.16 85); 
            
            /* Divider: Low chroma */
            --divider: oklch(0.85 0.02 85);
        }

        body {
            background-color: var(--pg-bg);
            color: var(--txt-pri);
            font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            margin: 0;
            padding: 0;
            overflow-y: scroll; /* Force vertical scrollbar to prevent layout shift */
        }

        /* Utility classes for OKLCH colors */
        .bg-page { background-color: var(--pg-bg); }
        .bg-frame { background-color: var(--fr-bg); }
        .bg-paper { background-color: var(--pp-bg); }
        .bg-wash { background-color: var(--sd-wash); }
        .text-pri { color: var(--txt-pri); }
        .text-sec { color: var(--txt-sec); }
        .text-accent { color: var(--accent); }
        .border-div { border-color: var(--divider); }
        .ring-accent { --tw-ring-color: var(--accent); }

        /* KaTeX Overflow Handling - Crucial Invariant */
        .katex-display {
            overflow-x: auto;
            overflow-y: hidden;
            max-width: 100%;
            padding: 0.5rem 0;
            /* Scrollbar hiding for clean look, functional scrolling remains */
            scrollbar-width: none; 
            -ms-overflow-style: none;
        }
        .katex-display::-webkit-scrollbar {
            display: none;
        }

        /* Focus styles */
        *:focus-visible {
            outline: 2px solid var(--accent);
            outline-offset: 2px;
            border-radius: 2px;
        }

        /* Custom Scrollbar for Nav (hidden visual, functional) */
        .nav-scroll-container {
            scrollbar-width: none;
            -ms-overflow-style: none;
        }
        .nav-scroll-container::-webkit-scrollbar {
            display: none;
        }

        /* Markdown Content Styling */
        .md-content p {
            margin-bottom: 0.75rem;
            line-height: 1.6;
        }
        .md-content p:last-child {
            margin-bottom: 0;
        }
        .md-content table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.9em;
            margin: 1rem 0;
        }
        .md-content th, .md-content td {
            border: 1px solid var(--divider);
            padding: 0.5rem;
            text-align: left;
        }
        .md-content ul {
            list-style-type: disc;
            padding-left: 1.5rem;
            margin-bottom: 0.75rem;
        }
        .md-content ol {
            list-style-type: decimal;
            padding-left: 1.5rem;
            margin-bottom: 0.75rem;
        }
        /* Tables wrapper for overflow */
        .table-wrapper {
            overflow-x: auto;
            max-width: 100%;
            scrollbar-width: none;
        }
        
        /* Sticky positioning fix for Desktop */
        .sticky-col {
            position: sticky;
            top: 0;
            height: 100vh;
            overflow-y: auto;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        // --- STAGE 0: CONSTANTS ---
        const RTQ_PAPERS_PAYLOAD_PATH = "../../../payload/rtq.papers.payload.v2.json";
        const RTQ_SHADCN_TOKEN_PROFILES_PATH = "../../../payload/rtq.shadcn.token.profiles.v1.json";

        // --- MARKDOWN SETUP ---
        const md = window.markdownit ? window.markdownit({
            html: true,
            linkify: true,
            breaks: false 
        }) : null;

        if (md) {
            md.inline.ruler.disable(['escape']);
        }

        // --- COMPONENTS ---

        // 1. Icons
        const IconChevronDown = ({ className }) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="m6 9 6 6 6-6"/></svg>;
        const IconChevronRight = ({ className }) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="m9 18 6-6-6-6"/></svg>;
        const IconMenu = ({ className }) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/></svg>;
        const IconX = ({ className }) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg>;
        const IconInfo = ({ className }) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><circle cx="12" cy="12" r="10"/><path d="M12 16v-4"/><path d="M12 8h.01"/></svg>;

        // 2. Math Renderer (Markdown -> HTML -> KaTeX)
        const MarkdownRenderer = ({ content, className = "" }) => {
            const containerRef = React.useRef(null);

            React.useEffect(() => {
                if (containerRef.current) {
                    // Render KaTeX
                    renderMathInElement(containerRef.current, {
                        delimiters: [
                            {left: '$$', right: '$$', display: true},
                            {left: '$', right: '$', display: false},
                            {left: '\\(', right: '\\)', display: false},
                            {left: '\\[', right: '\\]', display: true}
                        ],
                        throwOnError: false
                    });
                }
            }, [content]);

            if (!content) return null;
            
            // 1. Markdown render
            const html = md ? md.render(content) : content;

            return (
                <div 
                    ref={containerRef}
                    className={`md-content ${className}`}
                    dangerouslySetInnerHTML={{ __html: html }} 
                />
            );
        };

        // 3. Navigation Component
        const Navigation = ({ paper, activeId, onNavigate, mobile, onClose }) => {
            const isSectioned = paper.sections && paper.sections.length > 0;
            
            // Helper to determine visual hierarchy style based on depth (no indentation)
            const getItemStyle = (depth, isActive) => {
                const base = "block w-full text-left py-1.5 px-3 rounded-sm transition-colors duration-200 select-none cursor-pointer";
                const typography = depth === 0 ? "font-medium" : "text-sm";
                const color = isActive 
                    ? "text-accent font-bold" // Active: weight + accent color (allowed in non-content UI)
                    : "text-sec hover:text-pri";
                return `${base} ${typography} ${color}`;
            };

            const renderItem = (q, depth) => {
                const isActive = activeId === q.id;
                
                // Recursively get all items
                const items = [];
                items.push(
                    <button 
                        key={q.id}
                        onClick={() => {
                            onNavigate(q.id);
                            if (mobile && onClose) onClose();
                        }}
                        className={getItemStyle(depth, isActive)}
                        aria-current={isActive ? "page" : undefined}
                    >
                        {q.id}
                    </button>
                );

                if (q.children && q.children.length > 0) {
                    q.children.forEach(child => {
                        items.push(...renderItem(child, depth + 1));
                    });
                }
                return items;
            };

            const content = (
                <div className="flex flex-col pb-12">
                    {isSectioned ? (
                        paper.sections.map((sec, idx) => (
                            <div key={idx} className="mb-4">
                                {sec.label && sec.label.trim() !== "" && (
                                    <div className="px-3 py-2 text-xs font-bold text-sec uppercase tracking-wider mb-1 border-b border-div">
                                        {sec.label}
                                    </div>
                                )}
                                <div className="mt-1">
                                    {sec.questions.map(q => renderItem(q, 0))}
                                </div>
                            </div>
                        ))
                    ) : (
                        <div className="mt-2">
                             {paper.questions.map(q => renderItem(q, 0))}
                        </div>
                    )}
                </div>
            );

            return (
                <nav className={`nav-scroll-container ${mobile ? '' : 'h-full overflow-y-auto'}`}>
                    {content}
                </nav>
            );
        };

        // 4. Solution Details
        const SolutionDetails = ({ details, expanded, onToggle }) => {
            // Solution Details Grammar: Keep in mind -> Formulas -> Working -> Alt Working
            
            if (!expanded) return null;

            return (
                <div className="mt-3 pl-0 bg-wash rounded-sm border border-transparent overflow-hidden">
                    <div className="p-4 flex flex-col gap-6">
                        
                        {/* Keep in Mind */}
                        {details.keepInMind && (
                            <div className="space-y-2">
                                <div className="flex items-center gap-2 text-sm font-bold text-sec">
                                    <IconInfo className="w-4 h-4" />
                                    <span>Keep in mind</span>
                                </div>
                                <div className="text-pri text-sm">
                                    <MarkdownRenderer content={details.keepInMind} />
                                </div>
                            </div>
                        )}

                        {/* Formulas Used */}
                        {details.formulasUsed && (
                            <div className="space-y-2">
                                <div className="text-sm font-bold text-sec">Formulas used</div>
                                <div className="text-pri text-sm">
                                    <MarkdownRenderer content={details.formulasUsed} />
                                </div>
                            </div>
                        )}

                        {/* Working (Primary) */}
                        {details.working && (
                            <div className="space-y-2">
                                <div className="text-sm font-bold text-sec">Working</div>
                                <div className="text-pri">
                                    <MarkdownRenderer content={details.working} />
                                </div>
                            </div>
                        )}

                        {/* Alternative Working */}
                        {details.alternativeWorking && details.alternativeWorking.length > 0 && (
                            <div className="pt-4 border-t border-div mt-2 flex flex-col gap-6">
                                {details.alternativeWorking.map((alt, idx) => (
                                    <div key={idx} className="space-y-2">
                                        <div className="text-sm font-bold text-sec">Alternative working {details.alternativeWorking.length > 1 ? idx + 1 : ''}</div>
                                        <div className="text-pri">
                                            <MarkdownRenderer content={alt} />
                                        </div>
                                    </div>
                                ))}
                            </div>
                        )}

                    </div>
                </div>
            );
        };

        // 5. Question Node
        const QuestionNode = ({ node, depth, expandedMap, onToggle }) => {
            const hasSolutionBlock = !!node.solutionBlock;
            const hasSolutionDetails = hasSolutionBlock && !!node.solutionBlock.solutionDetails;
            const hasAnswer = hasSolutionBlock && !!node.solutionBlock.answer;
            
            const isExpanded = expandedMap[node.id];

            // Structural spacing based on depth
            const containerClass = depth === 0 ? "mb-12" : "mb-6 mt-4 ml-0"; 

            return (
                <div id={node.id} className={`${containerClass} scroll-mt-24`}>
                    {/* Question Body */}
                    <div className="mb-4">
                        <div className="flex flex-row gap-3 items-baseline">
                            <span className="text-sec font-semibold text-sm shrink-0 select-none">{node.id}</span>
                            <div className="text-pri text-lg leading-relaxed flex-1">
                                <MarkdownRenderer content={node.question} />
                            </div>
                        </div>
                    </div>

                    {/* Solution Block */}
                    {hasSolutionBlock && (
                        <div className="ml-0 md:ml-8 pl-0 md:pl-0">
                            
                            {/* Answer (Visible by default if present) */}
                            {hasAnswer && (
                                <div className="mb-3">
                                    <span className="text-xs font-bold text-sec uppercase tracking-wide block mb-1">Answer</span>
                                    <div className="text-pri font-medium">
                                        <MarkdownRenderer content={node.solutionBlock.answer} />
                                    </div>
                                </div>
                            )}

                            {/* Solution Details Toggle */}
                            {hasSolutionDetails && (
                                <div>
                                    <button 
                                        onClick={() => onToggle(node.id)}
                                        className="group flex items-center gap-2 text-accent text-sm font-medium hover:underline focus:outline-none"
                                        aria-expanded={isExpanded}
                                        aria-controls={`sd-${node.id}`}
                                    >
                                        <span>{isExpanded ? "Hide working" : "Show working"}</span>
                                        {isExpanded ? <IconChevronDown className="w-4 h-4" /> : <IconChevronRight className="w-4 h-4" />}
                                    </button>

                                    <div id={`sd-${node.id}`}>
                                        <SolutionDetails 
                                            details={node.solutionBlock.solutionDetails} 
                                            expanded={isExpanded} 
                                            onToggle={() => onToggle(node.id)}
                                        />
                                    </div>
                                </div>
                            )}
                        </div>
                    )}

                    {/* Recursion for Children */}
                    {node.children && node.children.length > 0 && (
                        <div className="ml-0 md:ml-4 border-l border-transparent">
                            {node.children.map(child => (
                                <QuestionNode 
                                    key={child.id} 
                                    node={child} 
                                    depth={depth + 1} 
                                    expandedMap={expandedMap} 
                                    onToggle={onToggle}
                                />
                            ))}
                        </div>
                    )}
                </div>
            );
        };

        // 6. Paper View Container
        const PaperView = ({ paper, expandedMap, onToggle }) => {
            const isSectioned = paper.sections && paper.sections.length > 0;

            return (
                <main className="w-full max-w-4xl mx-auto pb-32">
                    {/* Paper Header / Title could go here, but instructions imply simple continuous doc */}
                    <div className="bg-paper p-6 md:p-12 shadow-sm border border-div min-h-[80vh]">
                        {isSectioned ? (
                            paper.sections.map((sec, idx) => (
                                <div key={idx} className="mb-16 last:mb-0">
                                    {sec.label && sec.label.trim() !== "" && (
                                        <div className="text-xl font-bold text-pri mb-8 border-b-2 border-div pb-2">
                                            Section {sec.label}
                                        </div>
                                    )}
                                    {sec.questions.map(q => (
                                        <QuestionNode 
                                            key={q.id} 
                                            node={q} 
                                            depth={0} 
                                            expandedMap={expandedMap}
                                            onToggle={onToggle}
                                        />
                                    ))}
                                </div>
                            ))
                        ) : (
                            paper.questions.map(q => (
                                <QuestionNode 
                                    key={q.id} 
                                    node={q} 
                                    depth={0} 
                                    expandedMap={expandedMap}
                                    onToggle={onToggle}
                                />
                            ))
                        )}
                    </div>
                </main>
            );
        };

        // 7. Top Controls (Aligned to Frame)
        const TopControls = ({ papers, currentPaperKey, onSelectPaper, onMobileNavToggle }) => {
            return (
                <div className="bg-frame border-b border-div sticky top-0 z-20">
                    <div className="max-w-[1400px] mx-auto px-4 h-16 flex items-center justify-between">
                        
                        {/* Desktop: Spacer to align with content, Mobile: Hamburger */}
                        <div className="flex items-center gap-4">
                            <button 
                                onClick={onMobileNavToggle}
                                className="md:hidden p-2 -ml-2 text-sec hover:text-pri"
                                aria-label="Jump to question"
                            >
                                <IconMenu className="w-6 h-6" />
                            </button>
                            
                            {/* Paper Selector */}
                            <div className="flex items-center gap-3">
                                <label htmlFor="paper-select" className="text-xs font-bold text-sec uppercase tracking-wide hidden sm:block">Paper</label>
                                <div className="relative">
                                    <select 
                                        id="paper-select"
                                        value={currentPaperKey}
                                        onChange={(e) => onSelectPaper(e.target.value)}
                                        className="appearance-none bg-paper border border-div text-pri text-sm font-medium py-1.5 pl-3 pr-8 rounded-sm focus:ring-1 focus:ring-accent focus:border-accent cursor-pointer"
                                    >
                                        {papers.map(p => (
                                            <option key={p.key} value={p.key}>{p.label}</option>
                                        ))}
                                    </select>
                                    <div className="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-sec">
                                        <IconChevronDown className="w-4 h-4" />
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div className="text-sm font-bold text-sec hidden sm:block">
                            RTQ Maths Viewer
                        </div>
                    </div>
                </div>
            );
        };

        // 8. Mobile Drawer
        const MobileDrawer = ({ isOpen, onClose, children }) => {
            if (!isOpen) return null;

            return (
                <div className="fixed inset-0 z-50 flex md:hidden">
                    {/* Scrim */}
                    <div className="absolute inset-0 bg-black/20 backdrop-blur-sm" onClick={onClose}></div>
                    
                    {/* Drawer */}
                    <div className="relative bg-frame w-64 h-full shadow-xl flex flex-col border-r border-div">
                        <div className="h-16 flex items-center justify-between px-4 border-b border-div bg-frame shrink-0">
                            <span className="font-bold text-pri">Jump to</span>
                            <button onClick={onClose} className="p-2 -mr-2 text-sec hover:text-pri">
                                <IconX className="w-5 h-5" />
                            </button>
                        </div>
                        <div className="flex-1 overflow-y-auto p-4">
                            {children}
                        </div>
                    </div>
                </div>
            );
        };

        // --- MAIN APP ---
        const App = () => {
            const [payload, setPayload] = React.useState(null);
            const [loading, setLoading] = React.useState(true);
            const [error, setError] = React.useState(false);
            const [currentPaperKey, setCurrentPaperKey] = React.useState(null);
            const [expandedMap, setExpandedMap] = React.useState({});
            const [mobileNavOpen, setMobileNavOpen] = React.useState(false);
            const [activeId, setActiveId] = React.useState(null); // For nav highlighting

            // Fetch Payload
            React.useEffect(() => {
                fetch(RTQ_PAPERS_PAYLOAD_PATH)
                    .then(res => {
                        if (!res.ok) throw new Error("Failed to load");
                        return res.json();
                    })
                    .then(data => {
                        setPayload(data);
                        if (data.papers && data.papers.length > 0) {
                            setCurrentPaperKey(data.papers[0].key);
                        }
                        setLoading(false);
                    })
                    .catch(err => {
                        console.error(err);
                        setError(true);
                        setLoading(false);
                    });
            }, []);

            // Helper to build expanded map recursively
            const buildInitialExpandedState = (nodes, defaultExpanded) => {
                let map = {};
                const traverse = (n) => {
                    if (n.solutionBlock && n.solutionBlock.solutionDetails) {
                        map[n.id] = defaultExpanded;
                    }
                    if (n.children) n.children.forEach(traverse);
                };
                nodes.forEach(traverse);
                return map;
            };

            // Switch Paper Logic
            const currentPaper = payload?.papers.find(p => p.key === currentPaperKey);

            React.useEffect(() => {
                if (currentPaper) {
                    const defaultExpanded = currentPaper.defaults?.expandedAll !== false;
                    let nodes = [];
                    if (currentPaper.sections) {
                        currentPaper.sections.forEach(s => nodes.push(...s.questions));
                    } else {
                        nodes = currentPaper.questions;
                    }
                    setExpandedMap(buildInitialExpandedState(nodes, defaultExpanded));
                    window.scrollTo(0, 0);
                    setActiveId(null);
                }
            }, [currentPaperKey, payload]);

            const handleToggle = (id) => {
                setExpandedMap(prev => ({
                    ...prev,
                    [id]: !prev[id]
                }));
            };

            const handleNavigate = (id) => {
                setActiveId(id);
                const el = document.getElementById(id);
                if (el) {
                    el.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
            };

            if (loading) return <div className="p-8 text-sec">Loading...</div>;
            if (error || !payload) return (
                <div className="min-h-screen bg-page flex items-center justify-center">
                    <div className="text-xl font-bold text-pri tracking-widest">PAPERS PAYLOAD MISSING</div>
                </div>
            );

            return (
                <div className="min-h-screen bg-frame font-sans text-base">
                    {/* Top Controls */}
                    <TopControls 
                        papers={payload.papers} 
                        currentPaperKey={currentPaperKey} 
                        onSelectPaper={setCurrentPaperKey}
                        onMobileNavToggle={() => setMobileNavOpen(true)}
                    />

                    {/* DocumentFrameShell */}
                    <div className="max-w-[1400px] mx-auto flex flex-row relative">
                        
                        {/* Desktop Nav Rail (Sticky Col) */}
                        <aside className="hidden md:block w-64 shrink-0 border-r border-div bg-frame sticky-col pt-8 px-4 pb-20">
                            <div className="mb-4 text-xs font-bold text-sec uppercase tracking-wide">
                                Questions
                            </div>
                            <Navigation 
                                paper={currentPaper} 
                                activeId={activeId} 
                                onNavigate={handleNavigate} 
                                mobile={false}
                            />
                        </aside>

                        {/* Mobile Drawer */}
                        <MobileDrawer isOpen={mobileNavOpen} onClose={() => setMobileNavOpen(false)}>
                            <Navigation 
                                paper={currentPaper} 
                                activeId={activeId} 
                                onNavigate={handleNavigate} 
                                mobile={true}
                                onClose={() => setMobileNavOpen(false)}
                            />
                        </MobileDrawer>

                        {/* Paper Content Column */}
                        <div className="flex-1 min-w-0 bg-frame">
                            <div className="p-4 md:p-8 lg:p-12">
                                <PaperView 
                                    paper={currentPaper} 
                                    expandedMap={expandedMap} 
                                    onToggle={handleToggle}
                                />
                            </div>
                        </div>

                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
