<!DOCTYPE html>
<html lang="en">
<head>
  <!-- RTQ_RUN {"generator":"rtq-prototype-batch","model":"gemini-3-pro-preview","prefix":"gemini.stage-12.1","variant":"ABC","indexWithinVariant":"132","totalWithinVariant":"320","hueFamily":"green","intensityMode":"deep_theme","primaryHueFamily":"","secondaryHueFamily":"","dualIntensityMode":"","timestamp":"2026-01-09T16:13:15.373Z"} -->
  <meta name="rtq-run" content='{&quot;generator&quot;:&quot;rtq-prototype-batch&quot;,&quot;model&quot;:&quot;gemini-3-pro-preview&quot;,&quot;prefix&quot;:&quot;gemini.stage-12.1&quot;,&quot;variant&quot;:&quot;ABC&quot;,&quot;indexWithinVariant&quot;:&quot;132&quot;,&quot;totalWithinVariant&quot;:&quot;320&quot;,&quot;hueFamily&quot;:&quot;green&quot;,&quot;intensityMode&quot;:&quot;deep_theme&quot;,&quot;primaryHueFamily&quot;:&quot;&quot;,&quot;secondaryHueFamily&quot;:&quot;&quot;,&quot;dualIntensityMode&quot;:&quot;&quot;,&quot;timestamp&quot;:&quot;2026-01-09T16:13:15.373Z&quot;}'>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RTQ Maths Paper Solution Viewer (Stage 6 Baseline)</title>

    <!-- Tailwind CSS (Prototyping) -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- KaTeX CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">

    <!-- KaTeX JS -->
    <script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"></script>

    <!-- Markdown-it -->
    <script src="https://cdn.jsdelivr.net/npm/markdown-it@14.0.0/dist/markdown-it.min.js"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        page: 'var(--color-page)',
                        frame: 'var(--color-frame)',
                        paper: 'var(--color-paper)',
                        'text-pri': 'var(--color-text-primary)',
                        'text-sec': 'var(--color-text-secondary)',
                        accent: 'var(--color-accent)',
                        divider: 'var(--color-divider)',
                        'sd-wash': 'var(--color-sd-wash)',
                    },
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif'],
                    }
                }
            }
        }
    </script>

    <style>
        /* 
           COLORLAB CONFIGURATION 
           Mode: deep_theme (Light Only)
           Hue: Green (approx 146)
        */
        :root {
            /* 
               Deep Theme Constraints (Green):
               Page: L[0.92-0.98], C[0.08-0.16]
               Frame: L[0.90-0.96], C[0.08-0.16]
               Paper: L[0.94-0.99], C[0.06-0.14]
               Text Pri: L[0.15-0.25], C<=0.015
               Text Sec: L[0.25-0.40], C<=0.020
               Accent: L[0.45-0.65], C[0.16-0.26]
            */
            --hue-family: 146; 

            --color-page: oklch(0.95 0.10 var(--hue-family));
            --color-frame: oklch(0.92 0.12 var(--hue-family));
            --color-paper: oklch(0.97 0.08 var(--hue-family));
            
            --color-text-primary: oklch(0.20 0.015 var(--hue-family));
            --color-text-secondary: oklch(0.35 0.02 var(--hue-family));
            
            --color-accent: oklch(0.55 0.22 var(--hue-family)); 
            
            --color-divider: oklch(0.80 0.02 var(--hue-family));
            --color-sd-wash: oklch(0.96 0.04 var(--hue-family)); /* Subtle wash for Expanded SD */
        }

        body {
            background-color: var(--color-page);
            color: var(--color-text-primary);
            font-family: 'Inter', system-ui, sans-serif;
            overflow-y: scroll; /* Force vertical scrollbar to avoid layout shift */
        }

        /* Focus Ring - Accessible & Accent-driven */
        *:focus-visible {
            outline: 2px solid var(--color-accent);
            outline-offset: 2px;
        }

        /* KaTeX Containment Invariant */
        .katex-display {
            overflow-x: auto;
            overflow-y: hidden;
            padding-top: 0.5em;
            padding-bottom: 0.5em;
            max-width: 100%;
            -webkit-overflow-scrolling: touch;
        }
        
        /* Block math underlay allowed by Stage 6 */
        .katex-display > .katex {
            background-color: rgba(0,0,0,0.02); /* Very subtle interaction with surface */
            border-radius: 4px;
            padding: 4px 8px;
        }

        /* Nav Scrollbar Hiding */
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        /* Typography & Rhythm */
        h1, h2, h3, h4, h5, h6 { font-weight: 600; }
        
        .typography-content p {
            margin-bottom: 1em;
            line-height: 1.6;
        }
        .typography-content p:last-child {
            margin-bottom: 0;
        }

        /* Tables in Markdown */
        table {
            border-collapse: collapse;
            width: 100%;
            margin-bottom: 1rem;
            font-size: 0.95em;
        }
        th, td {
            border: 1px solid var(--color-divider);
            padding: 0.5rem;
            text-align: left;
        }
        th {
            background-color: rgba(0,0,0,0.03);
            font-weight: 600;
        }
        .table-wrapper {
            overflow-x: auto;
        }

        /* Interaction Transitions */
        .details-region {
            transition: opacity 0.2s ease-out, max-height 0.3s ease-out;
        }
    </style>
</head>
<body class="flex flex-col min-h-screen text-base">

    <!-- Top Controls Region (Aligned to Frame) -->
    <div class="w-full bg-frame sticky top-0 z-20 border-b border-divider/50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between">
            
            <!-- Paper Selector -->
            <div class="flex items-center gap-3">
                <label for="paper-select" class="text-sm font-medium text-text-sec">Paper:</label>
                <select id="paper-select" class="bg-paper border border-divider text-text-pri text-sm rounded px-3 py-1.5 focus:border-accent focus:ring-0">
                    <option>Loading...</option>
                </select>
            </div>

            <!-- Mobile Jump To Trigger -->
            <button id="mobile-jump-trigger" class="lg:hidden text-sm font-medium text-accent px-3 py-1.5 rounded hover:bg-black/5 transition-colors">
                Jump to
            </button>
        </div>
    </div>

    <!-- DocumentFrameShell -->
    <div class="flex-grow w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        
        <!-- Base Surface (Shared) -->
        <div class="bg-frame rounded-lg min-h-[80vh] flex shadow-sm border border-divider/50 overflow-hidden relative">
            
            <!-- Desktop Navigation Rail (Left Column) -->
            <nav class="hidden lg:block w-64 flex-shrink-0 border-r border-divider/50 bg-frame sticky top-16 h-[calc(100vh-4rem)] overflow-y-auto no-scrollbar py-6 pl-6 pr-4">
                <div id="desktop-nav-list" class="space-y-1">
                    <!-- Generated Nav Items -->
                </div>
            </nav>

            <!-- Paper Document Column (Right/Main) -->
            <main class="flex-1 min-w-0 bg-paper">
                <div id="paper-content" class="max-w-3xl mx-auto py-10 px-6 sm:px-10">
                    <!-- Content Generated Here -->
                    <div class="text-center text-text-sec py-20">Loading paper content...</div>
                </div>
            </main>

        </div>
    </div>

    <!-- Mobile Navigation Drawer -->
    <div id="mobile-drawer" class="fixed inset-0 z-50 hidden" aria-hidden="true">
        <!-- Scrim -->
        <div id="mobile-drawer-scrim" class="absolute inset-0 bg-black/20 backdrop-blur-sm transition-opacity opacity-0"></div>
        
        <!-- Drawer Panel -->
        <div id="mobile-drawer-panel" class="absolute right-0 top-0 bottom-0 w-80 bg-paper shadow-xl transform translate-x-full transition-transform duration-200 flex flex-col">
            <div class="p-4 border-b border-divider flex justify-between items-center bg-frame">
                <h2 class="font-semibold text-text-pri">Jump to</h2>
                <button id="mobile-drawer-close" class="text-text-sec hover:text-text-pri p-2">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                </button>
            </div>
            <div id="mobile-nav-list" class="flex-1 overflow-y-auto p-4 space-y-1">
                <!-- Generated Mobile Nav Items -->
            </div>
        </div>
    </div>

    <script>
        // --- STAGE 0: CONSTANTS ---
        const RTQ_PAPERS_PAYLOAD_PATH = "../../../payload/rtq.papers.payload.v2.json";
        const RTQ_SHADCN_TOKEN_PROFILES_PATH = "../../../payload/rtq.shadcn.token.profiles.v1.json";

        // --- STATE ---
        let payload = null;
        let currentPaperKey = null;
        // expandedMap: questionId -> boolean (true = visible)
        // Only applies to Solution Details.
        let expandedMap = new Map();

        // --- MARKDOWN SETUP (Stage 6 Baseline) ---
        const md = window.markdownit ? window.markdownit({
            html: true,    // Allow inline SVG
            linkify: true,
            breaks: false  // MUST be false to support KaTeX
        }) : null;

        if (md) {
            md.inline.ruler.disable(['escape']); // Preserve TeX backslashes
        }

        // --- DOM ELEMENTS ---
        const elPaperSelect = document.getElementById('paper-select');
        const elPaperContent = document.getElementById('paper-content');
        const elDesktopNav = document.getElementById('desktop-nav-list');
        const elMobileNav = document.getElementById('mobile-nav-list');
        const elMobileDrawer = document.getElementById('mobile-drawer');
        const elMobileDrawerPanel = document.getElementById('mobile-drawer-panel');
        const elMobileDrawerScrim = document.getElementById('mobile-drawer-scrim');
        const elMobileJumpTrigger = document.getElementById('mobile-jump-trigger');
        const elMobileClose = document.getElementById('mobile-drawer-close');

        // --- INIT ---
        async function init() {
            try {
                const response = await fetch(RTQ_PAPERS_PAYLOAD_PATH);
                if (!response.ok) throw new Error('Fetch failed');
                payload = await response.json();
                
                if (!payload.papers || payload.papers.length === 0) {
                    throw new Error('Invalid payload');
                }

                populatePaperSelector();
                loadPaper(payload.papers[0].key);

            } catch (err) {
                console.error(err);
                elPaperContent.innerHTML = `
                    <div class="flex items-center justify-center h-64 text-red-700 font-semibold border-2 border-red-100 bg-red-50 rounded">
                        PAPERS PAYLOAD MISSING
                    </div>
                `;
                elPaperSelect.innerHTML = '<option>Error</option>';
            }
        }

        function populatePaperSelector() {
            elPaperSelect.innerHTML = '';
            payload.papers.forEach(p => {
                const opt = document.createElement('option');
                opt.value = p.key;
                opt.textContent = p.label || p.key;
                elPaperSelect.appendChild(opt);
            });

            elPaperSelect.addEventListener('change', (e) => {
                loadPaper(e.target.value);
            });
        }

        function loadPaper(key) {
            currentPaperKey = key;
            const paper = payload.papers.find(p => p.key === key);
            
            // Reset state
            expandedMap.clear();
            const defaultExpanded = paper.defaults?.expandedAll !== false; // Default to true unless explicit false

            // Pre-calculate expansion state based on defaults
            // We need to traverse to set defaults, but actual rendering reads from map
            // For this prototype, we'll just treat undefined in map as "use default" during render
            // But to support toggle persistence during nav within paper, we should track it.
            // Simplified: we clear map on paper switch.
            
            // Render
            renderNavigation(paper);
            renderContent(paper, defaultExpanded);

            // Scroll to top
            window.scrollTo(0, 0);
            
            // Run KaTeX
            renderMath();
        }

        // --- RENDERING: CONTENT ---
        function renderContent(paper, defaultExpanded) {
            elPaperContent.innerHTML = '';
            
            // Flat list or sections?
            const container = document.createElement('div');
            container.className = 'space-y-12'; // SPC__TOP_LEVEL_INTER_QUESTION_SPACING

            if (paper.sections) {
                paper.sections.forEach(section => {
                    const sectionBlock = document.createElement('div');
                    
                    // Section Header (only if label exists)
                    if (section.label && section.label.trim().length > 0) {
                        const header = document.createElement('div');
                        header.className = 'text-lg font-bold text-text-sec mb-6 border-b border-divider pb-2'; // SPC__SECTION_HEADER_TO_QUESTION_LIST
                        header.textContent = section.label;
                        sectionBlock.appendChild(header);
                    }

                    const qList = document.createElement('div');
                    qList.className = 'space-y-12';
                    section.questions.forEach(q => {
                        qList.appendChild(createQuestionNode(q, 0, defaultExpanded));
                    });
                    sectionBlock.appendChild(qList);
                    container.appendChild(sectionBlock);
                });
            } else if (paper.questions) {
                paper.questions.forEach(q => {
                    container.appendChild(createQuestionNode(q, 0, defaultExpanded));
                });
            }

            elPaperContent.appendChild(container);
        }

        function createQuestionNode(q, depth, defaultExpanded) {
            const node = document.createElement('div');
            node.className = `question-node relative group`;
            node.id = `q-${q.id}`;

            // Question Body
            const body = document.createElement('div');
            body.className = 'mb-4'; // SPC__QUESTION_TO_SOLUTION_SPACING

            // Identifier + Prompt
            const identifier = `<span class="font-bold text-text-pri mr-2 select-none">${q.id}</span>`;
            const promptHtml = mdRender(q.question);
            
            // Combine carefully to preserve block formatting of prompt
            const promptWrapper = document.createElement('div');
            promptWrapper.className = 'typography-content text-text-pri text-lg';
            // We inject identifier at start of first paragraph if possible, or prepended
            // For simplicity in this harness:
            promptWrapper.innerHTML = `
                <div class="flex flex-col sm:flex-row gap-1 sm:gap-4">
                    <div class="flex-shrink-0 pt-0.5 w-12 text-text-sec font-bold text-base sm:text-right leading-7">${q.id}</div>
                    <div class="flex-grow min-w-0">${promptHtml}</div>
                </div>
            `;
            body.appendChild(promptWrapper);
            node.appendChild(body);

            // Solution Block
            if (q.solutionBlock) {
                const sb = q.solutionBlock;
                const hasAnswer = !!sb.answer;
                const hasDetails = !!sb.solutionDetails;

                // Answer
                if (hasAnswer) {
                    const answerDiv = document.createElement('div');
                    answerDiv.className = 'ml-0 sm:ml-16 mb-4'; // Indent to align with prompt text
                    
                    const label = document.createElement('div');
                    label.className = 'text-xs font-bold text-accent uppercase tracking-wider mb-1';
                    label.textContent = 'Answer';
                    answerDiv.appendChild(label);

                    const content = document.createElement('div');
                    content.className = 'text-text-pri font-medium typography-content';
                    content.innerHTML = mdRender(sb.answer);
                    answerDiv.appendChild(content);

                    node.appendChild(answerDiv);
                }

                // Solution Details
                if (hasDetails) {
                    const details = sb.solutionDetails;
                    const isExpanded = expandedMap.has(q.id) ? expandedMap.get(q.id) : defaultExpanded;

                    const detailsContainer = document.createElement('div');
                    detailsContainer.className = 'ml-0 sm:ml-16';

                    // Toggle
                    const toggle = document.createElement('button');
                    toggle.className = 'text-accent hover:text-accent/80 font-medium text-sm flex items-center gap-1 focus:outline-none mb-2 transition-colors';
                    toggle.innerHTML = `
                        <span>${isExpanded ? 'Hide working' : 'Show working'}</span>
                        <svg class="w-4 h-4 transform transition-transform ${isExpanded ? 'rotate-180' : ''}" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
                    `;
                    
                    const region = document.createElement('div');
                    region.className = `bg-sd-wash rounded-sm overflow-hidden border border-divider/30 ${isExpanded ? 'block' : 'hidden'}`;
                    
                    // Render subsections
                    const regionInner = document.createElement('div');
                    regionInner.className = 'p-4 sm:p-6 space-y-6';

                    // Keep in mind
                    if (details.keepInMind) {
                        const block = document.createElement('div');
                        block.innerHTML = `
                            <div class="text-sm font-bold text-text-pri mb-2 flex items-center gap-2">
                                <svg class="w-4 h-4 text-text-sec" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
                                Keep in mind
                            </div>
                            <div class="text-sm text-text-sec typography-content">${mdRender(details.keepInMind)}</div>
                        `;
                        regionInner.appendChild(block);
                    }

                    // Formulas Used
                    if (details.formulasUsed) {
                        const block = document.createElement('div');
                        if (details.keepInMind) block.className = 'pt-4 border-t border-divider/50';
                        block.innerHTML = `
                            <div class="text-xs font-bold text-text-sec uppercase tracking-wide mb-2">Formulas used</div>
                            <div class="text-sm text-text-pri typography-content">${mdRender(details.formulasUsed)}</div>
                        `;
                        regionInner.appendChild(block);
                    }

                    // Working
                    if (details.working) {
                        const block = document.createElement('div');
                        // Separator if needed
                        if (details.keepInMind || details.formulasUsed) block.className = 'pt-4 border-t border-divider/50';
                        
                        block.innerHTML = `
                            <div class="text-xs font-bold text-text-sec uppercase tracking-wide mb-2">Working</div>
                            <div class="text-base text-text-pri typography-content">${mdRender(details.working)}</div>
                        `;
                        regionInner.appendChild(block);
                    }

                    // Alternative Working (Array)
                    if (details.alternativeWorking && details.alternativeWorking.length > 0) {
                        details.alternativeWorking.forEach(alt => {
                            const block = document.createElement('div');
                            block.className = 'pt-4 border-t border-divider/50';
                            block.innerHTML = `
                                <div class="text-xs font-bold text-text-sec uppercase tracking-wide mb-2">Alternative working</div>
                                <div class="text-base text-text-pri typography-content">${mdRender(alt)}</div>
                            `;
                            regionInner.appendChild(block);
                        });
                    }

                    region.appendChild(regionInner);
                    detailsContainer.appendChild(toggle);
                    detailsContainer.appendChild(region);
                    node.appendChild(detailsContainer);

                    // Interaction
                    toggle.onclick = () => {
                        const newState = !expandedMap.get(q.id) && !isExpanded; // simplified toggle
                        // Actually, better to read current DOM state or map state
                        const currentlyHidden = region.classList.contains('hidden');
                        if (currentlyHidden) {
                            region.classList.remove('hidden');
                            toggle.innerHTML = `<span>Hide working</span><svg class="w-4 h-4 transform rotate-180 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>`;
                            expandedMap.set(q.id, true);
                        } else {
                            region.classList.add('hidden');
                            toggle.innerHTML = `<span>Show working</span><svg class="w-4 h-4 transform transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>`;
                            expandedMap.set(q.id, false);
                        }
                    };
                }
            }

            // Children
            if (q.children && q.children.length > 0) {
                const childrenContainer = document.createElement('div');
                // Indentation logic via spacing/padding
                childrenContainer.className = 'mt-6 ml-0 sm:ml-8 space-y-6 pl-4 border-l border-divider/30';
                
                q.children.forEach(child => {
                    childrenContainer.appendChild(createQuestionNode(child, depth + 1, defaultExpanded));
                });
                node.appendChild(childrenContainer);
            }

            return node;
        }

        function mdRender(text) {
            if (!text) return '';
            if (!md) return text; // Fallback
            return md.render(text);
        }

        // --- RENDERING: NAVIGATION ---
        function renderNavigation(paper) {
            const createNavItem = (id, labelText, isSectionLabel) => {
                const div = document.createElement('div');
                if (isSectionLabel) {
                    div.className = 'text-xs font-bold text-text-sec uppercase tracking-wider mt-6 mb-2 px-2 select-none';
                    div.textContent = labelText;
                } else {
                    const a = document.createElement('a');
                    a.href = `#q-${id}`;
                    a.className = 'block text-sm text-text-sec hover:text-accent hover:bg-black/5 px-2 py-1.5 rounded transition-colors truncate';
                    a.textContent = id;
                    // Active state handled by scroll spy later
                    a.dataset.targetId = `q-${id}`;
                    
                    a.onclick = (e) => {
                        e.preventDefault();
                        document.getElementById(`q-${id}`)?.scrollIntoView({ behavior: 'smooth' });
                        if (window.innerWidth < 1024) closeMobileDrawer();
                    };
                    div.appendChild(a);
                }
                return div;
            };

            const populateList = (rootEl) => {
                rootEl.innerHTML = '';
                if (paper.sections) {
                    paper.sections.forEach(section => {
                        if (section.label) {
                            rootEl.appendChild(createNavItem(null, section.label, true));
                        }
                        section.questions.forEach(q => traverseNav(q, rootEl));
                    });
                } else if (paper.questions) {
                    paper.questions.forEach(q => traverseNav(q, rootEl));
                }
            };

            const traverseNav = (q, root) => {
                root.appendChild(createNavItem(q.id, q.id, false));
                if (q.children) {
                    q.children.forEach(c => traverseNav(c, root));
                }
            };

            populateList(elDesktopNav);
            populateList(elMobileNav);

            updateScrollSpy(); // Init observer
        }

        // --- SCROLL SPY ---
        let observer = null;
        function updateScrollSpy() {
            if (observer) observer.disconnect();
            
            const options = {
                root: null,
                rootMargin: '-10% 0px -80% 0px',
                threshold: 0
            };

            observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const id = entry.target.id.replace('q-', '');
                        highlightNav(id);
                    }
                });
            }, options);

            document.querySelectorAll('.question-node').forEach(node => {
                observer.observe(node);
            });
        }

        function highlightNav(id) {
            document.querySelectorAll('[data-target-id]').forEach(el => {
                const isActive = el.dataset.targetId === `q-${id}`;
                if (isActive) {
                    el.classList.add('text-accent', 'font-bold', 'bg-accent/5');
                    el.classList.remove('text-text-sec');
                } else {
                    el.classList.remove('text-accent', 'font-bold', 'bg-accent/5');
                    el.classList.add('text-text-sec');
                }
            });
        }

        // --- MATH RENDER ---
        function renderMath() {
            renderMathInElement(elPaperContent, {
                delimiters: [
                    {left: '$$', right: '$$', display: true},
                    {left: '$', right: '$', display: false}
                ],
                throwOnError: false,
                output: 'html', // Avoid MathML accessibility issues in some contexts for prototype
                trust: true // Allow basic commands
            });
        }

        // --- MOBILE DRAWER ---
        function openMobileDrawer() {
            elMobileDrawer.classList.remove('hidden');
            // Trigger animation frame
            requestAnimationFrame(() => {
                elMobileDrawerScrim.classList.remove('opacity-0');
                elMobileDrawerPanel.classList.remove('translate-x-full');
            });
        }

        function closeMobileDrawer() {
            elMobileDrawerScrim.classList.add('opacity-0');
            elMobileDrawerPanel.classList.add('translate-x-full');
            setTimeout(() => {
                elMobileDrawer.classList.add('hidden');
            }, 200);
        }

        elMobileJumpTrigger.addEventListener('click', openMobileDrawer);
        elMobileClose.addEventListener('click', closeMobileDrawer);
        elMobileDrawerScrim.addEventListener('click', closeMobileDrawer);

        // --- BOOT ---
        init();

    </script>
</body>
</html>
