<!DOCTYPE html>
<html lang="en">
<head>
  <!-- RTQ_RUN {"generator":"rtq-prototype-batch","model":"gemini-3-pro-preview","prefix":"gemini.stage-12.1","variant":"ABC","indexWithinVariant":"12","totalWithinVariant":"320","hueFamily":"purple","intensityMode":"deep_theme","primaryHueFamily":"","secondaryHueFamily":"","dualIntensityMode":"","timestamp":"2026-01-09T10:31:33.827Z"} -->
  <meta name="rtq-run" content='{&quot;generator&quot;:&quot;rtq-prototype-batch&quot;,&quot;model&quot;:&quot;gemini-3-pro-preview&quot;,&quot;prefix&quot;:&quot;gemini.stage-12.1&quot;,&quot;variant&quot;:&quot;ABC&quot;,&quot;indexWithinVariant&quot;:&quot;12&quot;,&quot;totalWithinVariant&quot;:&quot;320&quot;,&quot;hueFamily&quot;:&quot;purple&quot;,&quot;intensityMode&quot;:&quot;deep_theme&quot;,&quot;primaryHueFamily&quot;:&quot;&quot;,&quot;secondaryHueFamily&quot;:&quot;&quot;,&quot;dualIntensityMode&quot;:&quot;&quot;,&quot;timestamp&quot;:&quot;2026-01-09T10:31:33.827Z&quot;}'>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RTQ Maths Paper Solution Viewer</title>
    
    <!-- Tailwind CSS (Prototyping) -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- KaTeX CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Markdown-it -->
    <script src="https://cdn.jsdelivr.net/npm/markdown-it@14.0.0/dist/markdown-it.min.js"></script>
    
    <!-- KaTeX JS & Auto-render -->
    <script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"></script>

    <style>
        /* 
         * COLORLAB SETTINGS: 
         * Mode: deep_theme (Light Mode Only)
         * Hue: Purple (approx H=300)
         */
        :root {
            /* DEEP THEME: All major surfaces are chromatic */
            
            /* Page Background: L[0.92-0.98], C[0.08-0.16] */
            --color-page-bg: 95% 0.1 300; 
            
            /* Frame Base Surface: L[0.90-0.96], C[0.08-0.16] */
            --color-frame-bg: 93% 0.12 300;
            
            /* Paper Surface: L[0.94-0.99], C[0.06-0.14] */
            --color-paper-bg: 98% 0.06 300;
            
            /* Solution Wash: C[0.05-0.10] */
            --color-solution-wash: 96% 0.05 300; 

            /* Text: mostly neutral */
            /* Primary: L[0.15-0.25], C<=0.015 */
            --color-text-primary: 20% 0.015 300;
            /* Secondary: L[0.25-0.40], C<=0.020 */
            --color-text-secondary: 35% 0.02 300;

            /* Accent: L[0.45-0.65], C[0.16-0.26] */
            --color-accent: 55% 0.22 300;

            /* Hairlines: C<=0.02 */
            --color-border: 85% 0.02 300;

            /* Focus Ring */
            --color-focus: 55% 0.22 300;
        }

        /* Mapping to CSS Variables for Tailwind usage via arbitrary values if needed, or standard classes */
        body {
            background-color: oklch(var(--color-page-bg));
            color: oklch(var(--color-text-primary));
            font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            -webkit-font-smoothing: antialiased;
        }

        /* Utility classes for semantic colors */
        .bg-page { background-color: oklch(var(--color-page-bg)); }
        .bg-frame { background-color: oklch(var(--color-frame-bg)); }
        .bg-paper { background-color: oklch(var(--color-paper-bg)); }
        .bg-wash { background-color: oklch(var(--color-solution-wash)); }
        
        .text-primary { color: oklch(var(--color-text-primary)); }
        .text-secondary { color: oklch(var(--color-text-secondary)); }
        .text-accent { color: oklch(var(--color-accent)); }
        
        .border-quiet { border-color: oklch(var(--color-border)); }
        .border-accent { border-color: oklch(var(--color-accent)); }

        .ring-focus:focus-visible {
            outline: none;
            box-shadow: 0 0 0 2px oklch(var(--color-page-bg)), 0 0 0 4px oklch(var(--color-focus));
        }

        /* Scrollbar Hiding for Nav */
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }

        /* KaTeX Containment Invariant */
        /* Prevent page-level horizontal scroll */
        body, #app-root { overflow-x: hidden; }
        
        /* Math blocks scroll internally on overflow */
        .katex-display {
            overflow-x: auto;
            overflow-y: hidden;
            padding-bottom: 4px; /* Space for scrollbar */
            max-width: 100%;
        }

        /* Inline math has no background */
        .katex { background-color: transparent !important; }
        
        /* Block math background (optional permitted underlay) - applied to wrapper, not katex itself if possible, 
           but system says "Block-math underlay rule... only display math". 
           We will leave it transparent by default unless specifically styled by container. */

        /* Markdown Content Styling */
        .prose p { margin-bottom: 0.75em; line-height: 1.6; }
        .prose p:last-child { margin-bottom: 0; }
        .prose ul { list-style-type: disc; padding-left: 1.25em; margin-bottom: 0.75em; }
        .prose ol { list-style-type: decimal; padding-left: 1.25em; margin-bottom: 0.75em; }
        .prose table { width: 100%; border-collapse: collapse; margin-bottom: 1em; font-size: 0.95em; }
        .prose th, .prose td { border: 1px solid oklch(var(--color-border)); padding: 0.5em; text-align: left; }
        .prose th { font-weight: 600; }
        
        /* Solution Details Subsections */
        .solution-subsection-label {
            font-size: 0.875rem;
            font-weight: 600;
            color: oklch(var(--color-text-secondary));
            margin-bottom: 0.25rem;
        }

        /* Drawer Transition */
        .drawer-overlay { transition: opacity 0.2s ease-in-out; }
        .drawer-content { transition: transform 0.2s ease-in-out; }
        .drawer-hidden .drawer-overlay { opacity: 0; pointer-events: none; }
        .drawer-hidden .drawer-content { transform: translateX(-100%); }
    </style>
</head>
<body class="min-h-screen flex flex-col items-center">

    <div id="app-root" class="w-full max-w-[1200px] flex flex-col md:px-6 lg:px-8">
        
        <!-- TOP CONTROLS REGION -->
        <!-- Visually aligned to shell via max-w container -->
        <header class="w-full py-4 px-4 md:px-0 flex items-center gap-4 bg-frame sticky top-0 z-20 border-b border-quiet md:border-none md:static md:bg-transparent">
            <!-- Paper Selector -->
            <div class="relative">
                <select id="paper-selector" class="appearance-none bg-paper border border-quiet rounded-md py-1.5 pl-3 pr-8 text-sm font-medium text-primary ring-focus focus:ring-2 cursor-pointer shadow-sm">
                    <option>Loading papers...</option>
                </select>
                <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-secondary">
                    <i data-lucide="chevron-down" class="w-4 h-4"></i>
                </div>
            </div>

            <!-- Mobile Jump To Trigger -->
            <button id="mobile-jump-trigger" class="md:hidden ml-auto flex items-center gap-2 text-sm font-medium text-accent hover:underline ring-focus rounded px-2 py-1">
                <i data-lucide="menu" class="w-4 h-4"></i>
                <span>Jump to</span>
            </button>
        </header>

        <!-- DOCUMENT FRAME SHELL -->
        <!-- Desktop: Two sibling columns (Nav + Paper) sharing base surface -->
        <div class="flex-1 w-full grid grid-cols-1 md:grid-cols-[220px_1fr] gap-0 md:gap-8 min-h-0 bg-frame md:rounded-t-xl overflow-hidden shadow-sm md:border md:border-quiet border-b-0">
            
            <!-- DESKTOP NAV RAIL (Sticky) -->
            <nav class="hidden md:block h-[calc(100vh-80px)] sticky top-4 overflow-y-auto no-scrollbar py-6 pl-6 pr-2 border-r border-quiet/50">
                <div id="desktop-nav-list" class="flex flex-col gap-1">
                    <!-- Nav items injected here -->
                </div>
            </nav>

            <!-- PAPER CONTENT COLUMN -->
            <main class="relative bg-paper min-h-[80vh] w-full border-l border-quiet/30">
                <div id="paper-content" class="w-full max-w-3xl mx-auto px-4 py-8 md:px-12 md:py-12 flex flex-col gap-12">
                    <!-- Content injected here -->
                    <div class="text-center text-secondary py-20">Initializing...</div>
                </div>
            </main>
        </div>
    </div>

    <!-- MOBILE NAVIGATION DRAWER -->
    <div id="mobile-drawer" class="fixed inset-0 z-50 drawer-hidden md:hidden">
        <!-- Scrim -->
        <div id="drawer-scrim" class="absolute inset-0 bg-black/20 backdrop-blur-sm drawer-overlay"></div>
        <!-- Drawer Content -->
        <div class="absolute inset-y-0 left-0 w-64 bg-paper shadow-xl flex flex-col drawer-content">
            <div class="p-4 border-b border-quiet flex items-center justify-between">
                <h2 class="text-sm font-bold text-primary">Jump to</h2>
                <button id="drawer-close" class="text-secondary hover:text-primary p-1 rounded ring-focus">
                    <i data-lucide="x" class="w-5 h-5"></i>
                </button>
            </div>
            <div class="flex-1 overflow-y-auto p-4 no-scrollbar">
                <div id="mobile-nav-list" class="flex flex-col gap-1">
                    <!-- Nav items injected here -->
                </div>
            </div>
        </div>
    </div>

    <script>
        // --- STAGE 0: CONSTANTS ---
        const RTQ_PAPERS_PAYLOAD_PATH = "../../../payload/rtq.papers.payload.v2.json";
        const RTQ_SHADCN_TOKEN_PROFILES_PATH = "../../../payload/rtq.shadcn.token.profiles.v1.json";

        // --- MARKDOWN CONFIGURATION (STAGE 6 HARDENING) ---
        const md = window.markdownit ? window.markdownit({
            html: true,     // Inline SVG passthrough
            linkify: true,
            breaks: false   // CRITICAL: Prevent <br> in math blocks
        }) : null;

        if (md) {
            // Disable escape rule to preserve TeX backslashes
            md.inline.ruler.disable(['escape']);
        }

        // --- STATE MANAGEMENT ---
        const state = {
            papers: [],
            activePaperKey: null,
            expandedWorkings: {}, // Map<QuestionID, boolean>
            isDrawerOpen: false
        };

        // --- DOM ELEMENTS ---
        const els = {
            paperSelector: document.getElementById('paper-selector'),
            paperContent: document.getElementById('paper-content'),
            desktopNavList: document.getElementById('desktop-nav-list'),
            mobileNavList: document.getElementById('mobile-nav-list'),
            mobileJumpTrigger: document.getElementById('mobile-jump-trigger'),
            mobileDrawer: document.getElementById('mobile-drawer'),
            drawerClose: document.getElementById('drawer-close'),
            drawerScrim: document.getElementById('drawer-scrim')
        };

        // --- INITIALIZATION ---
        async function init() {
            try {
                const response = await fetch(RTQ_PAPERS_PAYLOAD_PATH);
                if (!response.ok) throw new Error("Payload not found");
                const payload = await response.json();
                
                if (!payload.papers || !Array.isArray(payload.papers)) {
                    throw new Error("Invalid payload format");
                }

                state.papers = payload.papers;
                renderPaperSelector();
                
                // Select first paper by default
                if (state.papers.length > 0) {
                    loadPaper(state.papers[0].key);
                }
            } catch (err) {
                console.error(err);
                els.paperContent.innerHTML = `
                    <div class="flex flex-col items-center justify-center py-20 text-center">
                        <div class="text-accent font-bold mb-2">Error</div>
                        <div class="text-primary text-xl font-semibold">PAPERS PAYLOAD MISSING</div>
                        <p class="text-secondary mt-2 text-sm max-w-md">
                            Could not load content from ${RTQ_PAPERS_PAYLOAD_PATH}. 
                            Ensure the file exists and is accessible.
                        </p>
                    </div>
                `;
                els.paperSelector.innerHTML = '<option>Error loading payload</option>';
                els.paperSelector.disabled = true;
            }
        }

        // --- RENDERERS ---

        function renderPaperSelector() {
            els.paperSelector.innerHTML = state.papers.map(p => 
                `<option value="${p.key}">${p.label}</option>`
            ).join('');
            
            els.paperSelector.addEventListener('change', (e) => {
                loadPaper(e.target.value);
            });
        }

        function loadPaper(paperKey) {
            const paper = state.papers.find(p => p.key === paperKey);
            if (!paper) return;

            state.activePaperKey = paperKey;
            state.expandedWorkings = {}; // Reset expansion state

            // Determine questions list (Flat or Sectioned)
            let flatQuestions = [];
            let navStructure = []; // { type: 'section'|'question', label?, id?, data? }

            if (paper.sections) {
                paper.sections.forEach(section => {
                    // Stage 5.4.6: Section label is signpost. Only add if not empty.
                    if (section.label && section.label.trim().length > 0) {
                        navStructure.push({ type: 'section', label: section.label });
                    }
                    section.questions.forEach(q => {
                        navStructure.push({ type: 'question', id: q.id });
                        flatQuestions.push({ ...q, sectionLabel: section.label }); // Flatten for rendering loop
                    });
                });
            } else if (paper.questions) {
                paper.questions.forEach(q => {
                    navStructure.push({ type: 'question', id: q.id });
                    flatQuestions.push(q);
                });
            }

            // Defaults: Default expansion
            const defaultExpanded = paper.defaults?.expandedAll !== false;

            // Render Navigation
            renderNavigation(navStructure);

            // Render Paper Content
            renderPaperContent(paper, flatQuestions, defaultExpanded);

            // Init Lucide icons for new content
            lucide.createIcons();
        }

        function renderNavigation(structure) {
            const createNavHTML = (isMobile) => structure.map(item => {
                if (item.type === 'section') {
                    // Section Header: Non-clickable, separator
                    return `
                        <div class="mt-4 mb-2 first:mt-0 px-2 text-xs font-bold text-secondary uppercase tracking-wider select-none">
                            ${item.label}
                        </div>
                    `;
                } else {
                    // Question Item: Flat list, indent via type scale/opacity logic if needed (but requirement says flat left edge)
                    // We simply render identifiers.
                    // Active state logic would go here if we tracked scroll position (omitted for simplicity of prototype, or add click handler)
                    return `
                        <button 
                            onclick="scrollToQuestion('${item.id}'); ${isMobile ? 'closeDrawer()' : ''}"
                            class="w-full text-left px-2 py-1.5 text-sm rounded hover:bg-black/5 dark:hover:bg-white/5 text-secondary hover:text-primary transition-colors focus:ring-focus focus:outline-none focus:ring-2"
                        >
                            <span class="font-medium">${item.id}</span>
                        </button>
                    `;
                }
            }).join('');

            els.desktopNavList.innerHTML = createNavHTML(false);
            els.mobileNavList.innerHTML = createNavHTML(true);
        }

        function renderPaperContent(paper, questions, defaultExpanded) {
            if (!questions || questions.length === 0) {
                els.paperContent.innerHTML = '<div class="text-center text-secondary">No questions in this paper.</div>';
                return;
            }

            // Group by section for rendering if needed? 
            // Design brief says "Question List & Node Structural Grammar".
            // "The paper surface may contain optional section headers... Section headers are structural dividers".
            // Since we flattened the list for processing, let's reconstruct linear flow with headers injected.
            
            let html = '';
            let lastSectionLabel = null;

            // Helper for recursive rendering
            const renderQuestionNode = (node, depth = 0) => {
                const hasChildren = node.children && node.children.length > 0;
                const hasSolutionBlock = !!node.solutionBlock;
                const hasAnswer = hasSolutionBlock && !!node.solutionBlock.answer;
                const hasSolutionDetails = hasSolutionBlock && !!node.solutionBlock.solutionDetails;
                
                // Initialize expansion state if solution details exist
                if (hasSolutionDetails) {
                    if (state.expandedWorkings[node.id] === undefined) {
                        state.expandedWorkings[node.id] = defaultExpanded;
                    }
                }
                const isExpanded = state.expandedWorkings[node.id];

                // --- Node Start ---
                // Vertical spacing logic: Top level gets largest spacing. Children get tighter.
                const spacingClass = depth === 0 ? 'mb-16' : 'mt-8 mb-4'; 
                // Indentation for children (visual hierarchy via padding/margin)
                const indentClass = depth > 0 ? 'ml-0 md:ml-6 pl-4 border-l-2 border-quiet' : '';

                let nodeHtml = `<div id="q-${node.id}" class="question-node ${spacingClass} ${indentClass} group">`;

                // 1. Question Body
                nodeHtml += `
                    <div class="flex flex-col gap-2">
                        <div class="flex items-baseline gap-3">
                            <span class="text-secondary font-bold text-sm select-none shrink-0" style="font-feature-settings: 'tnum';">${node.id}</span>
                            <div class="prose max-w-none text-primary text-lg">
                                ${renderMarkdown(node.question)}
                            </div>
                        </div>
                    </div>
                `;

                // 2. Solution Block (Optional)
                if (hasSolutionBlock) {
                    nodeHtml += `<div class="mt-4 ml-0 md:ml-8 pl-0 md:pl-2">`;
                    
                    // Answer (Visible by default if present)
                    if (hasAnswer) {
                        nodeHtml += `
                            <div class="mb-3">
                                <span class="text-xs font-bold text-secondary uppercase tracking-wide">Answer</span>
                                <div class="mt-1 prose text-primary font-medium text-lg">
                                    ${renderMarkdown(node.solutionBlock.answer)}
                                </div>
                            </div>
                        `;
                    }

                    // Solution Details (Disclosure)
                    if (hasSolutionDetails) {
                        const btnText = isExpanded ? "Hide working" : "Show working";
                        const iconRotate = isExpanded ? "rotate-180" : "";
                        
                        nodeHtml += `
                            <div class="mt-2">
                                <button 
                                    onclick="toggleWorking('${node.id}')"
                                    class="flex items-center gap-1.5 text-sm font-medium text-accent hover:text-primary transition-colors focus:ring-focus focus:outline-none focus:ring-2 rounded py-1 px-1 -ml-1 select-none"
                                >
                                    <span>${btnText}</span>
                                    <i data-lucide="chevron-down" class="w-4 h-4 transition-transform duration-200 ${iconRotate}"></i>
                                </button>

                                <div class="mt-3 ${isExpanded ? 'block' : 'hidden'} animation-fade-in">
                                    <div class="bg-wash rounded-sm p-4 border border-quiet/50">
                                        ${renderSolutionDetails(node.solutionBlock.solutionDetails)}
                                    </div>
                                </div>
                            </div>
                        `;
                    }
                    nodeHtml += `</div>`; // End Solution Block
                }

                // 3. Children
                if (hasChildren) {
                    nodeHtml += `<div class="mt-6">`;
                    node.children.forEach(child => {
                        nodeHtml += renderQuestionNode(child, depth + 1);
                    });
                    nodeHtml += `</div>`;
                }

                nodeHtml += `</div>`; // End Node
                return nodeHtml;
            };

            // Main rendering loop
            questions.forEach((q, index) => {
                // Section Header check
                if (paper.sections && q.sectionLabel && q.sectionLabel !== lastSectionLabel && q.sectionLabel.trim().length > 0) {
                    html += `
                        <div class="mt-8 mb-12 pb-2 border-b border-quiet">
                            <h2 class="text-xl font-bold text-primary">${q.sectionLabel}</h2>
                        </div>
                    `;
                    lastSectionLabel = q.sectionLabel;
                }
                
                html += renderQuestionNode(q, 0);
            });

            els.paperContent.innerHTML = html;

            // Trigger KaTeX rendering on the updated content
            renderMathInElement(els.paperContent, {
                delimiters: [
                    {left: '$$', right: '$$', display: true},
                    {left: '$', right: '$', display: false},
                    {left: '\\(', right: '\\)', display: false},
                    {left: '\\[', right: '\\]', display: true}
                ],
                throwOnError: false
            });
        }

        function renderSolutionDetails(details) {
            let html = '';

            // Order: Keep in mind -> Formulas used -> Working -> Alternative working
            
            if (details.keepInMind) {
                html += `
                    <div class="mb-6">
                        <div class="solution-subsection-label flex items-center gap-2">
                            <i data-lucide="lightbulb" class="w-3.5 h-3.5"></i>
                            Keep in mind
                        </div>
                        <div class="prose text-sm text-primary/90">
                            ${renderMarkdown(details.keepInMind)}
                        </div>
                    </div>
                `;
            }

            if (details.formulasUsed) {
                html += `
                    <div class="mb-6">
                        <div class="solution-subsection-label">Formulas used</div>
                        <div class="prose text-sm text-primary/90">
                            ${renderMarkdown(details.formulasUsed)}
                        </div>
                    </div>
                `;
            }

            if (details.working) {
                html += `
                    <div class="mb-6 last:mb-0">
                        <div class="solution-subsection-label">Working</div>
                        <div class="prose text-primary">
                            ${renderMarkdown(details.working)}
                        </div>
                    </div>
                `;
            }

            if (details.alternativeWorking && Array.isArray(details.alternativeWorking)) {
                details.alternativeWorking.forEach((alt, i) => {
                    html += `
                        <div class="mt-8 pt-6 border-t border-quiet/50 last:mb-0">
                            <div class="solution-subsection-label">Alternative working</div>
                            <div class="prose text-primary">
                                ${renderMarkdown(alt)}
                            </div>
                        </div>
                    `;
                });
            }

            return html;
        }

        function renderMarkdown(text) {
            if (!text || !md) return text || '';
            return md.render(text);
        }

        // --- INTERACTIONS ---

        window.toggleWorking = (questionId) => {
            state.expandedWorkings[questionId] = !state.expandedWorkings[questionId];
            
            // Re-render ONLY content to preserve state? 
            // Better to find the specific node and toggle classes for performance, 
            // but re-rendering the whole paper is simpler for the prototype given the data structure.
            // Wait, re-rendering whole paper loses scroll position potentially if not careful.
            // Let's implement full re-render for correctness of KaTeX and icons, 
            // but we need to maintain scroll.
            // Actually, in a prototype, direct DOM manipulation for the toggle is safer for scroll stability.

            const paper = state.papers.find(p => p.key === state.activePaperKey);
            // Re-finding the node data to re-render just that part is complex.
            // Let's reload current paper. Browser keeps scroll position on simple innerHTML swaps usually if height doesn't collapse to 0.
            
            // To be safe: save scroll Y.
            const scrollY = window.scrollY;
            const paper = state.papers.find(p => p.key === state.activePaperKey);
            
            // Re-render
            // Need to reconstruct flat questions list again... simplified:
            // This is why React/Vue is preferred. 
            // For this Vanilla JS prototype, let's just re-call loadPaper logic but bypass the fetch/nav rebuild.
            
            // Quick hack: Just toggle classes in DOM? No, text changes ("Show" -> "Hide").
            // Let's do a full re-render. It's fast enough for a prototype.
            loadPaper(state.activePaperKey);
            
            // Restore scroll
            window.scrollTo(0, scrollY);
        };

        window.scrollToQuestion = (id) => {
            const el = document.getElementById(`q-${id}`);
            if (el) {
                // Offset for sticky header
                const headerOffset = 80;
                const elementPosition = el.getBoundingClientRect().top;
                const offsetPosition = elementPosition + window.pageYOffset - headerOffset;
                window.scrollTo({
                    top: offsetPosition,
                    behavior: "smooth"
                });
            }
        };

        // Mobile Drawer Logic
        window.closeDrawer = () => {
            state.isDrawerOpen = false;
            els.mobileDrawer.classList.add('drawer-hidden');
            document.body.style.overflow = '';
        };

        els.mobileJumpTrigger.addEventListener('click', () => {
            state.isDrawerOpen = true;
            els.mobileDrawer.classList.remove('drawer-hidden');
            document.body.style.overflow = 'hidden'; // Lock scroll
        });

        els.drawerClose.addEventListener('click', window.closeDrawer);
        els.drawerScrim.addEventListener('click', window.closeDrawer);

        // --- START ---
        init();

    </script>
</body>
</html>
