<!DOCTYPE html>
<html lang="en">
<head>
  <!-- RTQ_RUN {"generator":"rtq-prototype-batch","model":"gemini-3-pro-preview","prefix":"gemini.stage-12.1","variant":"AD","indexWithinVariant":"15","totalWithinVariant":"440","hueFamily":"","intensityMode":"","primaryHueFamily":"blue","secondaryHueFamily":"pink","dualIntensityMode":"dual_high_chroma_surfaces","timestamp":"2026-01-10T02:49:00.484Z"} -->
  <meta name="rtq-run" content='{&quot;generator&quot;:&quot;rtq-prototype-batch&quot;,&quot;model&quot;:&quot;gemini-3-pro-preview&quot;,&quot;prefix&quot;:&quot;gemini.stage-12.1&quot;,&quot;variant&quot;:&quot;AD&quot;,&quot;indexWithinVariant&quot;:&quot;15&quot;,&quot;totalWithinVariant&quot;:&quot;440&quot;,&quot;hueFamily&quot;:&quot;&quot;,&quot;intensityMode&quot;:&quot;&quot;,&quot;primaryHueFamily&quot;:&quot;blue&quot;,&quot;secondaryHueFamily&quot;:&quot;pink&quot;,&quot;dualIntensityMode&quot;:&quot;dual_high_chroma_surfaces&quot;,&quot;timestamp&quot;:&quot;2026-01-10T02:49:00.484Z&quot;}'>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RTQ Maths Paper Solution Viewer (Stage 6 Baseline)</title>

    <!-- Tailwind CSS (via CDN for prototype speed) -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- KaTeX CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    
    <!-- KaTeX JS -->
    <script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"></script>

    <!-- Markdown-it -->
    <script src="https://cdn.jsdelivr.net/npm/markdown-it@14.0.0/dist/markdown-it.min.js"></script>

    <script>
        // TAILWIND CONFIG & COLORLAB D PALETTE (Dual High Chroma Surfaces: Blue / Amber)
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif'], // Modern, friendly, readable
                    },
                    colors: {
                        // ColorLab D - Mode: dual_high_chroma_surfaces
                        // Primary Hue: Blue (approx 260)
                        // Secondary Hue: Amber (approx 85)
                        
                        // Surface 1 (Page Background) - High Chroma [0.06..0.12]
                        page: 'oklch(0.96 0.07 260)', 
                        
                        // Surface 2 (Frame Base) - Moderate Chroma [0.03..0.07]
                        frame: 'oklch(0.98 0.035 260)', 
                        
                        // Surface 3 (Paper Surface) - High Chroma [0.06..0.12]
                        paper: 'oklch(0.99 0.06 260)',

                        // Wash Surface (Solution Details) - [0.05..0.10]
                        wash: 'oklch(0.95 0.06 260)',

                        // Text - Primary <= 0.015, Secondary <= 0.02
                        txt: {
                            primary: 'oklch(0.25 0.012 260)',
                            secondary: 'oklch(0.45 0.018 260)',
                            tertiary: 'oklch(0.60 0.015 260)',
                        },

                        // Primary Accent (Blue) - [0.12..0.20]
                        // Used for Links, Focus, Disclosure Text, Active Nav
                        accent: {
                            DEFAULT: 'oklch(0.55 0.18 260)', 
                            hover: 'oklch(0.45 0.18 260)',
                        },

                        // Secondary Accent (Amber) - [0.10..0.18]
                        // Supplementary role (e.g. Nav Marker or specific label)
                        sec: {
                            DEFAULT: 'oklch(0.75 0.16 85)',
                        },

                        // Lines/Dividers - Neutral-leaning
                        line: 'oklch(0.90 0.02 260)',
                    }
                }
            }
        }
    </script>

    <style>
        /* BASE & RESET */
        body {
            background-color: theme('colors.page');
            color: theme('colors.txt.primary');
            font-family: theme('fontFamily.sans');
            -webkit-font-smoothing: antialiased;
            overflow-y: scroll; /* Always show vertical scrollbar to prevent layout shift */
        }

        /* KATEX & MATH CONTAINMENT (LOCKED) */
        /* Prevent horizontal overflow on page */
        .katex-display {
            overflow-x: auto;
            overflow-y: hidden;
            max-width: 100%;
            padding: 0.5rem 0;
            -webkit-overflow-scrolling: touch;
            /* Scrollbar hiding for cleaner look */
            scrollbar-width: thin;
            scrollbar-color: theme('colors.line') transparent;
        }
        
        /* Minimal structural tables */
        table {
            border-collapse: collapse;
            width: 100%;
            margin: 1rem 0;
            font-size: 0.95em;
        }
        th, td {
            border: 1px solid theme('colors.line');
            padding: 0.5rem;
            text-align: left;
            vertical-align: top;
        }
        th {
            font-weight: 600;
            color: theme('colors.txt.primary');
        }

        /* NAVIGATION SCROLLBAR HIDING */
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        /* FOCUS STATES (ACCESSIBILITY) */
        :focus-visible {
            outline: 2px solid theme('colors.accent.DEFAULT');
            outline-offset: 2px;
            border-radius: 2px;
        }

        /* UTILITIES */
        .markdown-body p {
            margin-bottom: 0.75em;
            line-height: 1.6;
        }
        .markdown-body p:last-child {
            margin-bottom: 0;
        }
        .markdown-body ul {
            list-style-type: disc;
            padding-left: 1.25em;
            margin-bottom: 0.75em;
        }
        .markdown-body ol {
            list-style-type: decimal;
            padding-left: 1.25em;
            margin-bottom: 0.75em;
        }

        /* DETAILS ANIMATION (CONTINUITY) */
        details > summary {
            list-style: none;
        }
        details > summary::-webkit-details-marker {
            display: none;
        }
    </style>
</head>
<body class="flex flex-col min-h-screen text-base md:text-lg">

    <!-- STAGE 0 CONSTANTS (RUNTIME DEFINITION) -->
    <script>
        const RTQ_PAPERS_PAYLOAD_PATH = "../../../payload/rtq.papers.payload.v2.json";
        const RTQ_SHADCN_TOKEN_PROFILES_PATH = "../../../payload/rtq.shadcn.token.profiles.v1.json";
    </script>

    <!-- TOP CONTROLS REGION -->
    <div id="top-controls-region" class="w-full max-w-7xl mx-auto px-4 md:px-8 pt-6 pb-2 md:pb-6 flex items-center justify-between z-20 relative">
        <div class="flex items-center gap-4">
            <!-- Paper Selector -->
            <label for="paper-select" class="sr-only">Select Paper</label>
            <div class="relative">
                <select id="paper-select" class="appearance-none bg-paper border border-line text-txt-primary py-2 pl-3 pr-8 rounded shadow-sm focus:border-accent text-sm md:text-base cursor-pointer">
                    <option value="" disabled selected>Loading papers...</option>
                </select>
                <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-txt-secondary">
                    <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                </div>
            </div>
        </div>

        <!-- Mobile Jump To Trigger -->
        <button id="mobile-jump-trigger" class="md:hidden text-accent font-medium text-sm flex items-center gap-1 p-2 -mr-2" aria-label="Jump to question">
            <span>Jump to</span>
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
        </button>
    </div>

    <!-- DOCUMENT FRAME SHELL -->
    <div id="document-frame-shell" class="flex-1 w-full max-w-7xl mx-auto px-4 md:px-8 pb-20 flex flex-col md:flex-row gap-0 md:gap-12 relative">
        
        <!-- NAVIGATION COLUMN (Desktop Sticky) -->
        <nav id="desktop-nav-col" class="hidden md:block w-48 shrink-0 relative">
            <div class="sticky top-6 max-h-[calc(100vh-3rem)] overflow-y-auto no-scrollbar py-2">
                <div id="desktop-nav-list" class="flex flex-col gap-1 text-sm text-txt-secondary font-medium">
                    <!-- Nav items injected here -->
                </div>
            </div>
        </nav>

        <!-- PAPER DOCUMENT COLUMN -->
        <main id="paper-column" class="flex-1 w-full min-w-0 bg-paper rounded-none md:rounded-sm shadow-sm md:shadow-none p-0 md:p-8 md:bg-paper">
            <div id="paper-content" class="flex flex-col gap-10 md:gap-12">
                <!-- Questions injected here -->
                <div class="text-txt-secondary text-center py-20 animate-pulse">Initializing...</div>
            </div>
        </main>

    </div>

    <!-- MOBILE DRAWER -->
    <div id="mobile-drawer-backdrop" class="fixed inset-0 bg-black/20 z-40 hidden opacity-0 transition-opacity duration-200" aria-hidden="true"></div>
    <div id="mobile-drawer" class="fixed inset-y-0 right-0 w-64 bg-paper shadow-xl z-50 transform translate-x-full transition-transform duration-300 flex flex-col" aria-hidden="true">
        <div class="flex items-center justify-between p-4 border-b border-line">
            <h2 class="text-txt-primary font-bold text-lg">Jump to</h2>
            <button id="mobile-drawer-close" class="text-txt-secondary hover:text-txt-primary p-2">
                <span class="sr-only">Close navigation</span>
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
            </button>
        </div>
        <div class="flex-1 overflow-y-auto p-4">
            <div id="mobile-nav-list" class="flex flex-col gap-3 text-base text-txt-secondary">
                <!-- Nav items injected here -->
            </div>
        </div>
    </div>

    <!-- JS LOGIC -->
    <script>
        (function() {
            // --- STATE ---
            let PAPERS_DATA = null;
            let CURRENT_PAPER_KEY = null;

            // --- MARKDOWN SETUP ---
            const md = window.markdownit ? window.markdownit({
                html: true, // Allow inline SVG
                linkify: true,
                breaks: false // REQUIRED: false to prevent <br> in math blocks
            }) : null;

            if (md) {
                md.inline.ruler.disable(['escape']); // REQUIRED: preserve backslashes for KaTeX
            }

            // --- DOM ELEMENTS ---
            const els = {
                paperSelect: document.getElementById('paper-select'),
                paperContent: document.getElementById('paper-content'),
                desktopNavList: document.getElementById('desktop-nav-list'),
                mobileNavList: document.getElementById('mobile-nav-list'),
                mobileTrigger: document.getElementById('mobile-jump-trigger'),
                drawer: document.getElementById('mobile-drawer'),
                drawerBackdrop: document.getElementById('mobile-drawer-backdrop'),
                drawerClose: document.getElementById('mobile-drawer-close'),
            };

            // --- INITIALIZATION ---
            async function init() {
                try {
                    const response = await fetch(RTQ_PAPERS_PAYLOAD_PATH);
                    if (!response.ok) throw new Error("Fetch failed");
                    const data = await response.json();
                    
                    PAPERS_DATA = data;
                    renderPaperSelector();
                    
                    // Default to first paper
                    if (PAPERS_DATA.papers && PAPERS_DATA.papers.length > 0) {
                        loadPaper(PAPERS_DATA.papers[0].key);
                    } else {
                        renderError("No papers found in payload.");
                    }

                } catch (e) {
                    console.error(e);
                    renderError("PAPERS PAYLOAD MISSING");
                }
            }

            // --- RENDERERS ---

            function renderError(msg) {
                els.paperContent.innerHTML = `<div class="text-center py-20 text-txt-tertiary font-medium uppercase tracking-widest">${msg}</div>`;
                els.paperSelect.innerHTML = `<option disabled>Error</option>`;
                els.paperSelect.disabled = true;
            }

            function renderPaperSelector() {
                els.paperSelect.innerHTML = PAPERS_DATA.papers.map(p => 
                    `<option value="${p.key}">${p.label}</option>`
                ).join('');
                
                els.paperSelect.addEventListener('change', (e) => {
                    loadPaper(e.target.value);
                });
            }

            function loadPaper(paperKey) {
                CURRENT_PAPER_KEY = paperKey;
                const paper = PAPERS_DATA.papers.find(p => p.key === paperKey);
                if (!paper) return;

                // 1. Build Question List DOM
                let html = '';
                
                if (paper.sections) {
                    // Sectioned Paper
                    paper.sections.forEach(section => {
                        // Section Header (Only if label exists)
                        if (section.label && section.label.trim().length > 0) {
                            html += `
                                <div class="mb-6 mt-8 pb-2 border-b border-line">
                                    <h2 class="text-xl font-semibold text-txt-secondary">${section.label}</h2>
                                </div>
                            `;
                        }
                        // Questions
                        html += `<div class="flex flex-col gap-12 md:gap-16">`;
                        section.questions.forEach(q => {
                            html += renderQuestionNode(q, paper.defaults || {});
                        });
                        html += `</div>`;
                    });
                } else if (paper.questions) {
                    // Flat Paper
                    html += `<div class="flex flex-col gap-12 md:gap-16">`;
                    paper.questions.forEach(q => {
                        html += renderQuestionNode(q, paper.defaults || {});
                    });
                    html += `</div>`;
                }

                els.paperContent.innerHTML = html;

                // 2. Render KaTeX
                renderMathInElement(els.paperContent, {
                    delimiters: [
                        {left: '$$', right: '$$', display: true},
                        {left: '$', right: '$', display: false}
                    ],
                    throwOnError: false
                });

                // 3. Build Navigation
                buildNavigation(paper);

                // 4. Scroll to top
                window.scrollTo(0, 0);
            }

            function renderQuestionNode(node, defaults, depth = 0) {
                const isChild = depth > 0;
                // Separation logic is handled by parent container gap mostly, 
                // but child nodes need specific spacing.
                const containerClass = isChild 
                    ? `mt-6 pl-0 md:pl-4 border-l-0 md:border-l-0` // Using hierarchy via size/spacing, not heavy borders
                    : ``; 
                
                const questionBodyHtml = md ? md.render(node.question || '') : node.question;
                
                // Determine Interaction ID
                const uniqueId = `q-${node.id.replace(/[^a-zA-Z0-9]/g, '-')}`;

                // Solution Block Logic
                let solutionBlockHtml = '';
                if (node.solutionBlock) {
                    const sb = node.solutionBlock;
                    
                    // Answer
                    let answerHtml = '';
                    if (sb.answer) {
                        const answerMd = md ? md.render(sb.answer) : sb.answer;
                        answerHtml = `
                            <div class="mt-4 mb-2">
                                <div class="text-xs font-bold text-txt-secondary uppercase tracking-wide mb-1">Answer</div>
                                <div class="text-txt-primary font-medium markdown-body">${answerMd}</div>
                            </div>
                        `;
                    }

                    // Solution Details
                    let detailsHtml = '';
                    if (sb.solutionDetails) {
                        const sd = sb.solutionDetails;
                        const isExpanded = defaults.expandedAll !== false; // Default expanded unless explicitly false
                        
                        // Sections
                        const keepInMind = sd.keepInMind ? renderSdSection('Keep in mind', sd.keepInMind, true) : '';
                        const formulas = sd.formulasUsed ? renderSdSection('Formulas used', sd.formulasUsed) : '';
                        const working = sd.working ? renderSdSection('Working', sd.working) : '';
                        
                        let alts = '';
                        if (sd.alternativeWorking && Array.isArray(sd.alternativeWorking)) {
                            sd.alternativeWorking.forEach((alt, idx) => {
                                alts += renderSdSection('Alternative working', alt);
                            });
                        }

                        // Toggle Control
                        const btnId = `btn-${uniqueId}`;
                        const contentId = `content-${uniqueId}`;
                        
                        detailsHtml = `
                            <div class="mt-3 group">
                                <button 
                                    type="button"
                                    aria-expanded="${isExpanded}"
                                    aria-controls="${contentId}"
                                    class="text-accent hover:text-accent-hover font-medium text-sm flex items-center gap-1 focus:outline-none focus-visible:ring-2 focus-visible:ring-accent rounded px-1 -ml-1 transition-colors select-none js-toggle-working"
                                >
                                    <span class="js-btn-text">${isExpanded ? 'Hide working' : 'Show working'}</span>
                                    <svg class="w-4 h-4 transition-transform duration-200 ${isExpanded ? 'rotate-180' : ''}" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                                </button>

                                <div id="${contentId}" class="${isExpanded ? '' : 'hidden'} mt-3 pl-0 border-l-2 border-line/50 md:pl-4 md:border-l-0 rounded bg-wash/50 p-4 markdown-body text-sm md:text-base text-txt-secondary">
                                    ${keepInMind}
                                    ${formulas}
                                    ${working}
                                    ${alts}
                                </div>
                            </div>
                        `;
                    }

                    if (answerHtml || detailsHtml) {
                        solutionBlockHtml = `
                            <div class="mt-2">
                                ${answerHtml}
                                ${detailsHtml}
                            </div>
                        `;
                    }
                }

                // Children
                let childrenHtml = '';
                if (node.children && node.children.length > 0) {
                    childrenHtml = `<div class="mt-6 flex flex-col gap-6">`;
                    node.children.forEach(child => {
                        childrenHtml += renderQuestionNode(child, defaults, depth + 1);
                    });
                    childrenHtml += `</div>`;
                }

                return `
                    <div id="${uniqueId}" class="scroll-mt-24 ${containerClass}">
                        <!-- Question Body -->
                        <div class="flex flex-col gap-1">
                            <div class="text-txt-secondary font-semibold text-sm select-none">${node.id}</div>
                            <div class="text-txt-primary text-lg md:text-xl font-normal markdown-body leading-relaxed">
                                ${questionBodyHtml}
                            </div>
                        </div>

                        <!-- Solution Block -->
                        ${solutionBlockHtml}

                        <!-- Children -->
                        ${childrenHtml}
                    </div>
                `;
            }

            function renderSdSection(label, content, isKeepInMind = false) {
                if (!content) return '';
                const body = md ? md.render(content) : content;
                const labelColor = isKeepInMind ? 'text-txt-primary' : 'text-txt-tertiary';
                const labelWeight = isKeepInMind ? 'font-bold' : 'font-semibold';
                const marginBottom = isKeepInMind ? 'mb-4' : 'mb-6';
                
                return `
                    <div class="${marginBottom}">
                        <div class="${labelColor} ${labelWeight} text-xs uppercase tracking-wide mb-1">${label}</div>
                        <div class="leading-relaxed">${body}</div>
                    </div>
                `;
            }

            function buildNavigation(paper) {
                const navItems = [];
                
                const traverse = (nodes) => {
                    nodes.forEach(n => {
                        navItems.push({ id: n.id, anchor: `q-${n.id.replace(/[^a-zA-Z0-9]/g, '-')}`, depth: 0 }); // Flat list visually, logic depth irrelevant for rendering
                        if (n.children) traverse(n.children);
                    });
                };

                let html = '';
                
                if (paper.sections) {
                    paper.sections.forEach(s => {
                        if (s.label && s.label.trim()) {
                            html += `<div class="mt-4 mb-2 text-xs font-bold text-txt-tertiary uppercase tracking-wider pl-3 select-none cursor-default">${s.label}</div>`;
                        }
                        const items = [];
                        const collect = (nodes) => nodes.forEach(n => { items.push(n); if(n.children) collect(n.children); });
                        collect(s.questions);

                        items.forEach(item => {
                            const anchor = `q-${item.id.replace(/[^a-zA-Z0-9]/g, '-')}`;
                            html += renderNavItem(item.id, anchor);
                        });
                    });
                } else if (paper.questions) {
                    const items = [];
                    const collect = (nodes) => nodes.forEach(n => { items.push(n); if(n.children) collect(n.children); });
                    collect(paper.questions);
                    
                    items.forEach(item => {
                        const anchor = `q-${item.id.replace(/[^a-zA-Z0-9]/g, '-')}`;
                        html += renderNavItem(item.id, anchor);
                    });
                }

                els.desktopNavList.innerHTML = html;
                els.mobileNavList.innerHTML = html;
                
                setupNavInteractions();
            }

            function renderNavItem(label, anchor) {
                // Flat list, hierarchy via type scale/quietness (simplified for prototype: consistent size)
                // Active state logic will handle highlighting
                return `
                    <a href="#${anchor}" class="nav-link block py-1 px-3 border-l-2 border-transparent hover:border-line hover:text-txt-primary transition-colors text-left" data-target="${anchor}">
                        ${label}
                    </a>
                `;
            }

            function setupNavInteractions() {
                const links = document.querySelectorAll('.nav-link');
                
                links.forEach(link => {
                    link.addEventListener('click', (e) => {
                        e.preventDefault();
                        const targetId = link.getAttribute('data-target');
                        const targetEl = document.getElementById(targetId);
                        if (targetEl) {
                            // Smooth scroll
                            const y = targetEl.getBoundingClientRect().top + window.pageYOffset - 100; // Offset for header
                            window.scrollTo({top: y, behavior: 'smooth'});
                            
                            // Close drawer if open
                            closeDrawer();

                            // Update active state manually immediately
                            updateActiveNav(targetId);
                        }
                    });
                });

                // Intersection Observer for scroll spying
                const observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            updateActiveNav(entry.target.id);
                        }
                    });
                }, { rootMargin: '-20% 0px -60% 0px' });

                document.querySelectorAll('[id^="q-"]').forEach(section => {
                    observer.observe(section);
                });
            }

            function updateActiveNav(activeId) {
                document.querySelectorAll('.nav-link').forEach(l => {
                    l.classList.remove('border-accent', 'text-accent', 'font-bold', 'bg-accent/5'); // Reset
                    l.classList.add('border-transparent');
                    
                    if (l.getAttribute('data-target') === activeId) {
                        l.classList.remove('border-transparent');
                        l.classList.add('border-accent', 'text-accent', 'font-bold'); // Active styles (ColorLab D Primary Accent)
                        
                        // Secondary Accent Marker (Amber) - optional supplementary cue
                        // We can add a pseudo-element via class or simpler inline style for prototype
                        // Just using the primary accent border is sufficient for Stage 5/6 baseline, 
                        // but let's stick to the styling above which uses the primary accent.
                    }
                });
            }

            // --- EVENT DELEGATION FOR TOGGLES ---
            els.paperContent.addEventListener('click', (e) => {
                const btn = e.target.closest('.js-toggle-working');
                if (btn) {
                    const contentId = btn.getAttribute('aria-controls');
                    const content = document.getElementById(contentId);
                    const isExpanded = btn.getAttribute('aria-expanded') === 'true';
                    const icon = btn.querySelector('svg');
                    const textSpan = btn.querySelector('.js-btn-text');

                    if (isExpanded) {
                        content.classList.add('hidden');
                        btn.setAttribute('aria-expanded', 'false');
                        textSpan.textContent = 'Show working';
                        icon.classList.remove('rotate-180');
                    } else {
                        content.classList.remove('hidden');
                        btn.setAttribute('aria-expanded', 'true');
                        textSpan.textContent = 'Hide working';
                        icon.classList.add('rotate-180');
                    }
                }
            });

            // --- DRAWER LOGIC ---
            function openDrawer() {
                els.drawer.classList.remove('translate-x-full');
                els.drawerBackdrop.classList.remove('hidden', 'opacity-0');
                document.body.style.overflow = 'hidden';
            }
            
            function closeDrawer() {
                els.drawer.classList.add('translate-x-full');
                els.drawerBackdrop.classList.add('opacity-0');
                setTimeout(() => els.drawerBackdrop.classList.add('hidden'), 200);
                document.body.style.overflow = '';
            }

            els.mobileTrigger.addEventListener('click', openDrawer);
            els.drawerClose.addEventListener('click', closeDrawer);
            els.drawerBackdrop.addEventListener('click', closeDrawer);

            // --- RUN ---
            init();

        })();
    </script>
</body>
</html>
