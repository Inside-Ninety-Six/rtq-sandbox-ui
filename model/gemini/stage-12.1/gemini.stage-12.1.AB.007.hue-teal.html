<!DOCTYPE html>
<html lang="en" class="antialiased">
<head>
  <!-- RTQ_RUN {"generator":"rtq-prototype-batch","model":"gemini-3-pro-preview","prefix":"gemini.stage-12.1","variant":"AB","indexWithinVariant":"7","totalWithinVariant":"200","hueFamily":"teal","intensityMode":"","timestamp":"2026-01-06T19:52:50.646Z"} -->
  <meta name="rtq-run" content='{&quot;generator&quot;:&quot;rtq-prototype-batch&quot;,&quot;model&quot;:&quot;gemini-3-pro-preview&quot;,&quot;prefix&quot;:&quot;gemini.stage-12.1&quot;,&quot;variant&quot;:&quot;AB&quot;,&quot;indexWithinVariant&quot;:&quot;7&quot;,&quot;totalWithinVariant&quot;:&quot;200&quot;,&quot;hueFamily&quot;:&quot;teal&quot;,&quot;intensityMode&quot;:&quot;&quot;,&quot;timestamp&quot;:&quot;2026-01-06T19:52:50.646Z&quot;}'>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RTQ â€“ Maths Paper Solution Viewer</title>
    
    <!-- Tailwind CSS (via CDN for prototyping) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        // ColorLab B: Forced Hue Family "Teal"
                        // Using standard Tailwind Teal palette for accents/focus
                        accent: {
                            50: '#f0fdfa',
                            100: '#ccfbf1',
                            500: '#14b8a6',
                            600: '#0d9488', // Primary interaction color
                            700: '#0f766e',
                            900: '#134e4a',
                        },
                        neutral: {
                            50: '#f8fafc',
                            100: '#f1f5f9', 
                            200: '#e2e8f0',
                            300: '#cbd5e1',
                            400: '#94a3b8',
                            500: '#64748b',
                            600: '#475569',
                            700: '#334155', // Body text
                            800: '#1e293b', // Headings
                            900: '#0f172a',
                        }
                    },
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif'],
                    }
                }
            }
        }
    </script>

    <!-- KaTeX CSS (No integrity, no crossorigin) -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">

    <!-- KaTeX JS (No integrity, no crossorigin) -->
    <script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"></script>

    <!-- Markdown-it -->
    <script src="https://cdn.jsdelivr.net/npm/markdown-it@14.0.0/dist/markdown-it.min.js"></script>

    <style>
        /* 
         * STAGE 6 BASELINE CSS 
         * Includes KaTeX containment and scrollbar utilities 
         */

        /* Hide scrollbar for Chrome, Safari and Opera */
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        /* Hide scrollbar for IE, Edge and Firefox */
        .no-scrollbar {
            -ms-overflow-style: none;  /* IE and Edge */
            scrollbar-width: none;  /* Firefox */
        }

        /* KaTeX Containment Invariant: Prevent page horizontal scroll */
        .katex-display {
            overflow-x: auto;
            overflow-y: hidden;
            padding-top: 0.5em;
            padding-bottom: 0.5em;
            max-width: 100%;
            -webkit-overflow-scrolling: touch;
        }
        
        /* Inline KaTeX background rule: Transparent only */
        .katex {
            background-color: transparent !important;
        }

        /* Block-math underlay rule (optional quiet differentiation) */
        .katex-display {
            /* Minimal visual differentiation if needed, but keeping it clean per ColorLab rules */
        }

        /* Markdown Table Styling - Minimal Structural */
        .md-content table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 1rem;
            font-size: 0.95em;
        }
        .md-content th {
            text-align: left;
            font-weight: 600;
            border-bottom: 1px solid #e2e8f0;
            padding: 0.5rem;
        }
        .md-content td {
            border-bottom: 1px solid #f1f5f9;
            padding: 0.5rem;
            vertical-align: top;
        }

        /* Markdown List Styling */
        .md-content ul {
            list-style-type: disc;
            padding-left: 1.25rem;
            margin-bottom: 0.5rem;
        }
        .md-content ol {
            list-style-type: decimal;
            padding-left: 1.25rem;
            margin-bottom: 0.5rem;
        }
        .md-content p {
            margin-bottom: 0.5rem;
            line-height: 1.6;
        }
        .md-content p:last-child {
            margin-bottom: 0;
        }

        /* Focus Visibility - Custom but restrained (Teal Accent) */
        :focus-visible {
            outline: 2px solid #0d9488; /* teal-600 */
            outline-offset: 2px;
        }

        /* Smooth Scrolling */
        html {
            scroll-behavior: smooth;
        }

        /* Motion safe transition */
        @media (prefers-reduced-motion: no-preference) {
            .transition-height {
                transition: max-height 0.3s ease-out, opacity 0.3s ease-out;
            }
        }
    </style>
</head>
<body class="bg-white text-neutral-800 h-screen flex flex-col overflow-hidden">

    <!-- 
      STAGE 0: CONSTANTS 
      These are authoritative. Literal strings appear nowhere else.
    -->
    <script>
        const RTQ_PAPERS_PAYLOAD_PATH = "../../../payload/rtq.papers.payload.v2.json";
        const RTQ_SHADCN_TOKEN_PROFILES_PATH = "../../../payload/rtq.shadcn.token.profiles.v1.json";
    </script>

    <!-- Top Controls Region -->
    <header class="flex-none border-b border-neutral-200 bg-white z-20 relative">
        <div class="max-w-7xl mx-auto px-4 lg:px-8 h-14 flex items-center justify-between">
            <!-- Paper Selector -->
            <div class="flex items-center gap-3">
                <label for="paper-select" class="text-sm font-medium text-neutral-500">Paper</label>
                <select id="paper-select" class="bg-neutral-50 border border-neutral-300 text-neutral-900 text-sm rounded focus:ring-accent-600 focus:border-accent-600 block p-1.5 pl-2 pr-8">
                    <option disabled selected>Loading papers...</option>
                </select>
            </div>

            <!-- Mobile Jump To Trigger -->
            <button id="mobile-jump-trigger" class="lg:hidden text-sm font-medium text-accent-700 hover:text-accent-900 flex items-center gap-1 px-3 py-1.5 rounded hover:bg-accent-50 transition-colors">
                Jump to
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 256 256"><path d="M213.66,101.66l-80,80a8,8,0,0,1-11.32,0l-80-80A8,8,0,0,1,53.66,90.34L128,164.69l74.34-74.35a8,8,0,0,1,11.32,11.32Z"></path></svg>
            </button>
        </div>
    </header>

    <!-- DocumentFrameShell -->
    <div class="flex-1 flex overflow-hidden max-w-7xl mx-auto w-full relative">
        
        <!-- Desktop Navigation Rail (Left Column) -->
        <nav class="hidden lg:block w-64 flex-none border-r border-neutral-200/50 bg-white h-full overflow-y-auto no-scrollbar py-6 pl-8 pr-4">
            <div id="desktop-nav-list" class="flex flex-col gap-1 pb-20">
                <!-- Nav items generated here -->
            </div>
        </nav>

        <!-- Paper Document Column (Right/Main) -->
        <main id="paper-scroll-container" class="flex-1 overflow-y-auto h-full bg-white relative">
            <div class="max-w-3xl mx-auto px-4 sm:px-6 lg:px-12 py-8 lg:py-12">
                
                <!-- Content Injection Target -->
                <div id="paper-content" class="flex flex-col gap-12">
                    <div class="flex items-center justify-center h-64 text-neutral-400">
                        Initializing...
                    </div>
                </div>

                <!-- Bottom spacer -->
                <div class="h-32"></div>
            </div>
        </main>

        <!-- Mobile Navigation Drawer -->
        <div id="mobile-drawer-backdrop" class="fixed inset-0 bg-neutral-900/20 backdrop-blur-sm z-30 hidden transition-opacity opacity-0" aria-hidden="true"></div>
        <div id="mobile-drawer" class="fixed inset-y-0 right-0 w-64 bg-white shadow-xl z-40 transform translate-x-full transition-transform duration-300 ease-out flex flex-col" aria-hidden="true">
            <div class="flex items-center justify-between px-4 py-3 border-b border-neutral-200">
                <span class="font-semibold text-neutral-800">Jump to</span>
                <button id="mobile-drawer-close" class="p-2 text-neutral-500 hover:text-neutral-900 rounded-md hover:bg-neutral-100">
                    <span class="sr-only">Close menu</span>
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 256 256"><path d="M205.66,194.34a8,8,0,0,1-11.32,11.32L128,139.31,61.66,205.66a8,8,0,0,1-11.32-11.32L116.69,128,50.34,61.66A8,8,0,0,1,61.66,50.34L128,116.69l66.34-66.35a8,8,0,0,1,11.32,11.32L139.31,128Z"></path></svg>
                </button>
            </div>
            <div class="flex-1 overflow-y-auto p-4">
                <div id="mobile-nav-list" class="flex flex-col gap-1">
                    <!-- Mobile nav items generated here -->
                </div>
            </div>
        </div>

    </div>

    <!-- Application Logic -->
    <script>
        // --- Markdown renderer (authoritative config) ---
        const md = window.markdownit
        ? window.markdownit({
            html: true, // allow inline SVG and other inline HTML in payload Markdown
            linkify: true,
            breaks: false, // MUST stay false: prevents <br> inside $...$ / $$...$$
            })
        : null;

        if (md) {
            // Preserve TeX backslashes: do not let markdown-it escape them before KaTeX runs
            md.inline.ruler.disable(["escape"]);
        }

        // --- State ---
        const state = {
            papers: [],
            currentPaperKey: null,
            expandedState: {}, // { questionId: boolean }
            navOpen: false
        };

        // --- DOM Elements ---
        const els = {
            paperSelect: document.getElementById('paper-select'),
            paperContent: document.getElementById('paper-content'),
            desktopNavList: document.getElementById('desktop-nav-list'),
            mobileNavList: document.getElementById('mobile-nav-list'),
            scrollContainer: document.getElementById('paper-scroll-container'),
            mobileTrigger: document.getElementById('mobile-jump-trigger'),
            mobileDrawer: document.getElementById('mobile-drawer'),
            mobileBackdrop: document.getElementById('mobile-drawer-backdrop'),
            mobileClose: document.getElementById('mobile-drawer-close')
        };

        // --- Initialization ---
        async function init() {
            try {
                const response = await fetch(RTQ_PAPERS_PAYLOAD_PATH);
                if (!response.ok) throw new Error("Payload load failed");
                const payload = await response.json();
                
                if (!payload.papers || payload.papers.length === 0) {
                    throw new Error("No papers in payload");
                }

                state.papers = payload.papers;
                
                // Populate selector
                els.paperSelect.innerHTML = state.papers.map(p => 
                    `<option value="${p.key}">${p.label}</option>`
                ).join('');

                // Initial load
                loadPaper(state.papers[0].key);

                // Event Listeners
                els.paperSelect.addEventListener('change', (e) => loadPaper(e.target.value));
                els.mobileTrigger.addEventListener('click', openDrawer);
                els.mobileClose.addEventListener('click', closeDrawer);
                els.mobileBackdrop.addEventListener('click', closeDrawer);

                // Setup Intersection Observer for scroll spy
                setupScrollSpy();

            } catch (error) {
                console.error(error);
                els.paperContent.innerHTML = `
                    <div class="p-8 text-center text-red-700 bg-red-50 border border-red-100 rounded">
                        <h2 class="font-bold mb-2">PAPERS PAYLOAD MISSING</h2>
                        <p class="text-sm">Unable to load content from ${RTQ_PAPERS_PAYLOAD_PATH}</p>
                    </div>
                `;
                els.paperSelect.innerHTML = `<option>Error loading payload</option>`;
                els.paperSelect.disabled = true;
            }
        }

        function loadPaper(paperKey) {
            state.currentPaperKey = paperKey;
            const paper = state.papers.find(p => p.key === paperKey);
            if (!paper) return;

            // Reset state
            state.expandedState = {}; 
            // Apply defaults
            const defaultExpanded = paper.defaults?.expandedAll !== false;

            // Determine if Sectioned or Flat
            let structure = [];
            if (paper.sections) {
                structure = paper.sections; // { label, questions[] }
            } else if (paper.questions) {
                structure = [{ label: "", questions: paper.questions }];
            }

            // Render Paper
            renderPaperContent(structure, defaultExpanded);

            // Render Navigation
            renderNavigation(structure);

            // Trigger KaTeX
            renderMathInElement(els.paperContent, {
                delimiters: [
                    {left: '$$', right: '$$', display: true},
                    {left: '$', right: '$', display: false}
                ],
                throwOnError: false
            });

            // Reset Scroll
            els.scrollContainer.scrollTop = 0;
            closeDrawer();
        }

        // --- Content Rendering ---

        function renderPaperContent(structure, defaultExpanded) {
            const html = structure.map((section, idx) => {
                const sectionHeader = section.label ? `
                    <div class="mb-6 pt-2 pb-2 border-b border-neutral-100">
                        <h2 class="text-neutral-400 font-medium text-lg">${section.label}</h2>
                    </div>
                ` : '';

                const questionsHtml = section.questions.map(q => renderQuestionNode(q, defaultExpanded, 0)).join('');

                return `
                    <section class="mb-8">
                        ${sectionHeader}
                        <div class="flex flex-col gap-12 sm:gap-16">
                            ${questionsHtml}
                        </div>
                    </section>
                `;
            }).join('');
            
            els.paperContent.innerHTML = html;
        }

        function renderQuestionNode(node, defaultExpanded, depth) {
            // Determine Expand State
            // If solutionDetails exists, check state. If key not in state, use default.
            const hasSolutionBlock = !!node.solutionBlock;
            const hasDetails = hasSolutionBlock && !!node.solutionBlock.solutionDetails;
            const hasAnswer = hasSolutionBlock && !!node.solutionBlock.answer;
            
            let isExpanded = defaultExpanded;
            if (hasDetails && state.expandedState[node.id] !== undefined) {
                isExpanded = state.expandedState[node.id];
            } else if (hasDetails) {
                state.expandedState[node.id] = defaultExpanded; // Set default in state
            }

            // --- 1. Question Body ---
            // Render markdown content
            const qContent = md ? md.render(node.question) : node.question;
            
            // Layout classes
            const indentClass = depth > 0 ? `ml-4 sm:ml-6 lg:ml-8 border-l-2 border-transparent pl-2` : ''; // Minimal indentation logic via spacing
            
            let html = `
                <div id="q-${node.id}" class="group relative ${indentClass}" data-question-id="${node.id}">
                    <!-- Question Body -->
                    <div class="flex flex-row gap-3 sm:gap-4 mb-4">
                        <div class="flex-none pt-0.5">
                            <span class="text-neutral-500 font-semibold text-base sm:text-lg select-none">${node.id}</span>
                        </div>
                        <div class="flex-1 min-w-0">
                            <div class="md-content text-neutral-800 text-base sm:text-lg leading-relaxed font-medium">
                                ${qContent}
                            </div>
                        </div>
                    </div>
            `;

            // --- 2. Solution Block ---
            if (hasSolutionBlock) {
                html += `<div class="ml-8 sm:ml-10 lg:ml-12 flex flex-col gap-3">`;

                // A. Answer
                if (hasAnswer) {
                    const ansContent = md ? md.render(node.solutionBlock.answer) : node.solutionBlock.answer;
                    html += `
                        <div class="flex flex-col sm:flex-row sm:items-baseline gap-1 sm:gap-3 text-neutral-700">
                            <span class="text-xs font-bold uppercase tracking-wider text-accent-700 flex-none select-none pt-1">Answer</span>
                            <div class="md-content text-neutral-900 font-medium">${ansContent}</div>
                        </div>
                    `;
                }

                // B. Solution Details
                if (hasDetails) {
                    const details = node.solutionBlock.solutionDetails;
                    const expandId = `details-${node.id}`;
                    const btnText = isExpanded ? "Hide working" : "Show working";
                    const displayStyle = isExpanded ? "block" : "hidden";
                    
                    // Toggle
                    html += `
                        <div class="mt-1">
                            <button onclick="toggleWorking('${node.id}')" 
                                class="text-accent-600 hover:text-accent-700 text-sm font-medium flex items-center gap-1.5 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-accent-500 rounded px-1 -ml-1 transition-colors"
                                aria-expanded="${isExpanded}" aria-controls="${expandId}">
                                <span>${btnText}</span>
                                <svg class="w-4 h-4 transform transition-transform ${isExpanded ? 'rotate-180' : ''}" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                            </button>
                        </div>
                    `;

                    // Details Region
                    html += `
                        <div id="${expandId}" class="${displayStyle} mt-2 pl-4 border-l border-neutral-200">
                            <div class="flex flex-col gap-6 py-2 text-neutral-600">
                    `;

                    // i. Keep in mind
                    if (details.keepInMind) {
                        html += `
                            <div class="space-y-1">
                                <h4 class="text-xs font-bold uppercase tracking-wider text-neutral-500">Keep in mind</h4>
                                <div class="md-content text-sm text-neutral-700">
                                    ${md.render(details.keepInMind)}
                                </div>
                            </div>
                        `;
                    }

                    // ii. Formulas used
                    if (details.formulasUsed) {
                        html += `
                            <div class="space-y-1">
                                <h4 class="text-xs font-bold uppercase tracking-wider text-neutral-500">Formulas used</h4>
                                <div class="md-content text-sm text-neutral-700">
                                    ${md.render(details.formulasUsed)}
                                </div>
                            </div>
                        `;
                    }

                    // iii. Working
                    if (details.working) {
                        html += `
                            <div class="space-y-2">
                                <h4 class="text-xs font-bold uppercase tracking-wider text-neutral-500">Working</h4>
                                <div class="md-content text-base text-neutral-800">
                                    ${md.render(details.working)}
                                </div>
                            </div>
                        `;
                    }

                    // iv. Alternative working
                    if (details.alternativeWorking && Array.isArray(details.alternativeWorking)) {
                        details.alternativeWorking.forEach(alt => {
                            html += `
                                <div class="pt-4 border-t border-neutral-100 space-y-2">
                                    <h4 class="text-xs font-bold uppercase tracking-wider text-neutral-500">Alternative working</h4>
                                    <div class="md-content text-base text-neutral-800">
                                        ${md.render(alt)}
                                    </div>
                                </div>
                            `;
                        });
                    } else if (details.alternativeWorking && typeof details.alternativeWorking === 'string') {
                         // Fallback for string type
                         html += `
                                <div class="pt-4 border-t border-neutral-100 space-y-2">
                                    <h4 class="text-xs font-bold uppercase tracking-wider text-neutral-500">Alternative working</h4>
                                    <div class="md-content text-base text-neutral-800">
                                        ${md.render(details.alternativeWorking)}
                                    </div>
                                </div>
                            `;
                    }

                    html += `</div></div>`; // End Details Region
                }

                html += `</div>`; // End Solution Block Wrapper
            }

            // --- 3. Children ---
            if (node.children && node.children.length > 0) {
                html += `
                    <div class="mt-6 flex flex-col gap-6">
                        ${node.children.map(child => renderQuestionNode(child, defaultExpanded, depth + 1)).join('')}
                    </div>
                `;
            }

            html += `</div>`; // End Question Node
            return html;
        }

        // --- Navigation Rendering ---

        function renderNavigation(structure) {
            const generateList = (isMobile) => {
                return structure.map(section => {
                    const sectionHtml = section.label ? `
                        <div class="px-2 py-1 mt-3 mb-1 text-xs font-bold text-neutral-400 uppercase tracking-wider select-none">
                            ${section.label}
                        </div>
                    ` : '';
                    
                    const items = section.questions.map(q => flattenNavItems(q, 0)).join('');
                    return sectionHtml + items;
                }).join('');
            };

            els.desktopNavList.innerHTML = generateList(false);
            els.mobileNavList.innerHTML = generateList(true);
        }

        function flattenNavItems(node, depth) {
            // Visual hierarchy via type scale/opacity, flat alignment
            const fontSize = depth === 0 ? 'text-sm' : 'text-xs';
            const color = depth === 0 ? 'text-neutral-600' : 'text-neutral-500';
            const padding = 'py-1 px-2';
            
            let html = `
                <a href="#q-${node.id}" 
                   class="nav-item block ${padding} ${fontSize} ${color} hover:text-accent-700 hover:bg-neutral-50 rounded transition-colors border-l-2 border-transparent"
                   data-target="q-${node.id}"
                   onclick="handleNavClick(event, 'q-${node.id}')">
                   ${node.id}
                </a>
            `;
            
            if (node.children) {
                html += node.children.map(child => flattenNavItems(child, depth + 1)).join('');
            }
            return html;
        }

        // --- Interaction Handlers ---

        window.toggleWorking = function(questionId) {
            const contentEl = document.getElementById(`details-${questionId}`);
            const btnEl = contentEl.previousElementSibling.querySelector('button');
            const icon = btnEl.querySelector('svg');
            const span = btnEl.querySelector('span');

            const isHidden = contentEl.classList.contains('hidden');
            
            // Toggle Display
            if (isHidden) {
                contentEl.classList.remove('hidden');
                contentEl.classList.add('block');
                icon.classList.add('rotate-180');
                span.innerText = "Hide working";
                btnEl.setAttribute('aria-expanded', 'true');
                state.expandedState[questionId] = true;
            } else {
                contentEl.classList.remove('block');
                contentEl.classList.add('hidden');
                icon.classList.remove('rotate-180');
                span.innerText = "Show working";
                btnEl.setAttribute('aria-expanded', 'false');
                state.expandedState[questionId] = false;
            }
        }

        window.handleNavClick = function(e, targetId) {
            e.preventDefault();
            const el = document.getElementById(targetId);
            if (el) {
                el.scrollIntoView({ behavior: 'smooth', block: 'start' });
                // Add temporary highlight
                // Update URL hash without scroll
                history.pushState(null, null, `#${targetId}`);
            }
            closeDrawer();
        }

        function openDrawer() {
            els.mobileBackdrop.classList.remove('hidden');
            // Force reflow
            void els.mobileBackdrop.offsetWidth;
            els.mobileBackdrop.classList.add('opacity-100');
            
            els.mobileDrawer.classList.remove('translate-x-full');
            state.navOpen = true;
        }

        function closeDrawer() {
            els.mobileDrawer.classList.add('translate-x-full');
            els.mobileBackdrop.classList.remove('opacity-100');
            setTimeout(() => {
                if (els.mobileDrawer.classList.contains('translate-x-full')) {
                    els.mobileBackdrop.classList.add('hidden');
                }
            }, 300);
            state.navOpen = false;
        }

        // --- Scroll Spy ---
        function setupScrollSpy() {
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const id = entry.target.getAttribute('data-question-id');
                        updateActiveNav(id);
                    }
                });
            }, {
                root: els.scrollContainer,
                threshold: 0.1,
                rootMargin: "-10% 0px -80% 0px" // Trigger near top
            });

            // Re-observe when content changes
            const observerConfig = { childList: true, subtree: true };
            const mutationObserver = new MutationObserver(() => {
                document.querySelectorAll('[data-question-id]').forEach(el => observer.observe(el));
            });
            mutationObserver.observe(els.paperContent, observerConfig);
        }

        function updateActiveNav(id) {
            // Remove active classes
            document.querySelectorAll('.nav-item').forEach(el => {
                el.classList.remove('border-accent-600', 'font-bold', 'text-accent-700', 'bg-accent-50/50');
                el.classList.add('border-transparent');
            });

            // Add active classes
            const activeLinks = document.querySelectorAll(`a[data-target="q-${id}"]`);
            activeLinks.forEach(link => {
                link.classList.remove('border-transparent', 'text-neutral-600', 'text-neutral-500');
                link.classList.add('border-accent-600', 'font-bold', 'text-accent-700', 'bg-accent-50/50');
                
                // Scroll nav into view if needed
                if (!state.navOpen) {
                    link.scrollIntoView({ block: 'nearest', behavior: 'smooth' });
                }
            });
        }

        // Start
        init();

    </script>
</body>
</html>
